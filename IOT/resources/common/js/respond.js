/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
(function(b){b.matchMedia=b.matchMedia||function(b,d){var g,k=b.documentElement,u=k.firstElementChild||k.firstChild,e=b.createElement("body"),f=b.createElement("div");f.id="mq-test-1";f.style.cssText="position:absolute;top:-100em";e.style.background="none";e.appendChild(f);return function(b){f.innerHTML='\x26shy;\x3cstyle media\x3d"'+b+'"\x3e #mq-test-1 { width: 42px; }\x3c/style\x3e';k.insertBefore(e,u);g=42===f.offsetWidth;k.removeChild(e);return{matches:g,media:b}}}(b.document)})(this);(function(b){function F(){z(!0)}var d={};b.respond=d;d.update=function(){};var g=[],k=function(){var n=!1;try{n=new b.XMLHttpRequest}catch(c){n=new b.ActiveXObject("Microsoft.XMLHTTP")}return function(){return n}}(),u=function(b,c){var a=k();a&&(a.open("GET",b,!0),a.onreadystatechange=function(){4!==a.readyState||200!==a.status&&304!==a.status||c(a.responseText)},4!==a.readyState&&a.send(null))};d.ajax=u;d.queue=g;d.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/};d.mediaQueriesSupported=b.matchMedia&&null!==b.matchMedia("only all")&&b.matchMedia("only all").matches;if(!d.mediaQueriesSupported){var e=b.document,f=e.documentElement,v=[],w=[],l=[],A={},x=e.getElementsByTagName("head")[0]||f,K=e.getElementsByTagName("base")[0],y=x.getElementsByTagName("link"),B,G,C,D=function(){var b,c=e.createElement("div"),a=e.body,d=f.style.fontSize,p=a&&a.style.fontSize,t=!1;c.style.cssText="position:absolute;font-size:1em;width:1em";a||(a=t=e.createElement("body"),a.style.background="none");f.style.fontSize="100%";a.style.fontSize="100%";a.appendChild(c);t&&f.insertBefore(a,f.firstChild);b=c.offsetWidth;t?f.removeChild(a):a.removeChild(c);f.style.fontSize=d;p&&(a.style.fontSize=p);return b=C=parseFloat(b)},z=function(d){try{var c=f.clientWidth,a="CSS1Compat"===e.compatMode&&c||e.body.clientWidth||c,c={},n=y[y.length-1],p=(new Date).getTime();if(d&&B&&30>p-B)b.clearTimeout(G),G=b.setTimeout(z,30);else{B=p;for(var t in v)if(v.hasOwnProperty(t)){var r=v[t],h=r.minw,m=r.maxw;d=null===h;p=null===m;h&&(h=parseFloat(h)*(-1<h.indexOf("em")?C||D():1));m&&(m=parseFloat(m)*(-1<m.indexOf("em")?C||D():1));r.hasquery&&(d&&p||!(d||a>=h)||!(p||a<=m))||(c[r.media]||(c[r.media]=[]),c[r.media].push(w[r.rules]))}for(var g in l)l.hasOwnProperty(g)&&l[g]&&l[g].parentNode===x&&x.removeChild(l[g]);l.length=0;for(var E in c)if(c.hasOwnProperty(E)){var q=e.createElement("style"),k=c[E].join("\n");q.type="text/css";q.media=E;x.insertBefore(q,n.nextSibling);q.styleSheet?q.styleSheet.cssText=k:q.appendChild(e.createTextNode(k));l.push(q)}}}catch(L){}},H=function(b,c,a){var e=b.replace(d.regex.keyframes,"").match(d.regex.media),f=e&&e.length||0;c=c.substring(0,c.lastIndexOf("/"));var n=!f&&a;c.length&&(c+="/");n&&(f=1);for(var g=0;g<f;g++){var h,m,k;n?(h=a,w.push(b.replace(d.regex.urls,"$1"+c+"$2$3"))):(h=e[g].match(d.regex.findStyles)&&RegExp.$1,w.push(RegExp.$2&&RegExp.$2.replace(d.regex.urls,"$1"+c+"$2$3")));m=h.split(",");k=m.length;for(var l=0;l<k;l++)h=m[l],v.push({media:h.split("(")[0].match(d.regex.only)&&RegExp.$2||"all",rules:w.length-1,hasquery:-1<h.indexOf("("),minw:h.match(d.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(d.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}try{z()}catch(q){}},I=function(){if(g.length){var d=g.shift();u(d.href,function(c){H(c,d.href,d.media);A[d.href]=!0;b.setTimeout(function(){I()},0)})}},J=function(){for(var d=0;d<y.length;d++){var c=y[d],a=c.href,e=c.media,f=c.rel&&"stylesheet"===c.rel.toLowerCase();if(a&&f&&!A[a])if(c.styleSheet&&c.styleSheet.rawCssText)H(c.styleSheet.rawCssText,a,e),A[a]=!0;else if(!/^([a-zA-Z:]*\/\/)/.test(a)&&!K||a.replace(RegExp.$1,"").split("/")[0]===b.location.host)"//"===a.substring(0,2)&&(a=b.location.protocol+a),g.push({href:a,media:e})}I()};J();d.update=J;d.getEmValue=D;b.addEventListener?b.addEventListener("resize",F,!1):b.attachEvent&&b.attachEvent("onresize",F)}})(this);