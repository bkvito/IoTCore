/* jquery.nicescroll
-- version 3.7.6
-- copyright 2017-07-19 InuYaksa*2017
-- licensed under the MIT
--
-- https://nicescroll.areaaperta.com/
-- https://github.com/inuyaksa/jquery.nicescroll
--
*/

/* jshint expr: true */
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):"object"===typeof exports?module.exports=f(require("jquery")):f(jQuery)})(function(f){var K=!1,P=!1,W=0,X=2E3,F=0,h=document,l=window,x=f(l),G=[],q=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,L=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(q)l.cancelAnimationFrame||(L=function(m){});else var M=0,q=function(m,c){var h=(new Date).getTime(),f=Math.max(0,16-(h-M)),d=l.setTimeout(function(){m(h+f)},f);M=h+f;return d},L=function(h){l.clearTimeout(h)};var A=l.MutationObserver||l.WebKitMutationObserver||!1,t=Date.now||function(){return(new Date).getTime()},T={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var f;(f=h.currentScript)||(f=h.getElementsByTagName("script"),f=f.length?f[f.length-1]:!1);f=f?f.src.split("?")[0]:"";return 0<f.split("/").length?f.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},C=!1,Y=function(){if(C)return C;var f=h.createElement("DIV"),c=f.style,n=navigator.userAgent,N=navigator.platform,d={};d.haspointerlock="pointerLockElement"in h||"webkitPointerLockElement"in h||"mozPointerLockElement"in h;d.isopera="opera"in l;d.isopera12=d.isopera&&"getUserMedia"in navigator;d.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini);d.isie="all"in h&&"attachEvent"in f&&!d.isopera;d.isieold=d.isie&&!("msInterpolationMode"in c);d.isie7=d.isie&&!d.isieold&&(!("documentMode"in h)||7===h.documentMode);d.isie8=d.isie&&"documentMode"in h&&8===h.documentMode;d.isie9=d.isie&&"performance"in l&&9===h.documentMode;d.isie10=d.isie&&"performance"in l&&10===h.documentMode;d.isie11="msRequestFullscreen"in f&&11<=h.documentMode;d.ismsedge="msCredentials"in l;d.ismozilla="MozAppearance"in c;d.iswebkit=!d.ismsedge&&"WebkitAppearance"in c;d.ischrome=d.iswebkit&&"chrome"in l;d.ischrome38=d.ischrome&&"touchAction"in c;d.ischrome22=!d.ischrome38&&d.ischrome&&d.haspointerlock;d.ischrome26=!d.ischrome38&&d.ischrome&&"transition"in c;d.cantouch="ontouchstart"in h.documentElement||"ontouchstart"in l;d.hasw3ctouch=(l.PointerEvent||!1)&&(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints);d.hasmstouch=!d.hasw3ctouch&&(l.MSPointerEvent||!1);d.ismac=/^mac$/i.test(N);d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(N);d.isios4=d.isios&&!("seal"in Object);d.isios7=d.isios&&"webkitHidden"in h;d.isios8=d.isios&&"hidden"in h;d.isios10=d.isios&&l.Proxy;d.isandroid=/android/i.test(n);d.haseventlistener="addEventListener"in f;d.trstyle=!1;d.hastransform=!1;d.hastranslate3d=!1;d.transitionstyle=!1;d.hastransition=!1;d.transitionend=!1;d.trstyle="transform";d.hastransform="transform"in c||function(){for(var f=["msTransform","webkitTransform","MozTransform","OTransform"],h=0,n=f.length;h<n;h++)if(void 0!==c[f[h]]){d.trstyle=f[h];break}d.hastransform=!!d.trstyle}();d.hastransform&&(c[d.trstyle]="translate3d(1px,2px,3px)",d.hastranslate3d=/translate3d/.test(c[d.trstyle]));d.transitionstyle="transition";d.prefixstyle="";d.transitionend="transitionend";d.hastransition="transition"in c||function(){d.transitionend=!1;for(var f="webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),h="-webkit- -ms- -moz- -o- -o -khtml-".split(" "),n="webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),a=0,m=f.length;a<m;a++)if(f[a]in c){d.transitionstyle=f[a];d.prefixstyle=h[a];d.transitionend=n[a];break}d.ischrome26&&(d.prefixstyle=h[1]);d.hastransition=d.transitionstyle}();d.cursorgrabvalue=function(){var f=["grab","-webkit-grab","-moz-grab"];if(d.ischrome&&!d.ischrome38||d.isie)f=[];for(var h=0,n=f.length;h<n;h++){var a=f[h];c.cursor=a;if(c.cursor==a)return a}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}();d.hasmousecapture="setCapture"in f;d.hasMutationObserver=!1!==A;f=null;return C=d},aa=function(m,c){function n(){var b=a.doc.css(k.trstyle);return b&&"matrix"==b.substr(0,6)?b.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function N(){var b=a.win;if("zIndex"in b)return b.zIndex();for(;0<b.length&&9!=b[0].nodeType;){var e=b.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);b=b.parent()}return!1}function d(b,e,p){e=b.css(e);b=parseFloat(e);return isNaN(b)?(b=E[e]||0,p=3==b?p?a.win.outerHeight()-a.win.innerHeight():a.win.outerWidth()-a.win.innerWidth():1,a.isie8&&b&&(b+=1),p?b:0):b}function H(b,e,p,c){a._bind(b,e,function(a){a=a||l.event;var c={original:a,target:a.target||a.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==a.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},stopImmediatePropagation:function(){a.stopImmediatePropagation?a.stopImmediatePropagation():a.cancelBubble=!0}};"mousewheel"==e?(a.wheelDeltaX&&(c.deltaX=-.025*a.wheelDeltaX),a.wheelDeltaY&&(c.deltaY=-.025*a.wheelDeltaY),c.deltaY||c.deltaX||(c.deltaY=-.025*a.wheelDelta)):c.deltaY=a.detail;return p.call(b,c)},c)}function z(b,e,p,c){a.scrollrunning||(a.newscrolly=a.getScrollTop(),a.newscrollx=a.getScrollLeft(),Q=t());var d=t()-Q;Q=t();J=350<d?1:J+(2-J)/10;b=b*J|0;e=e*J|0;if(b){if(c)if(0>b){if(a.getScrollLeft()>=a.page.maxw)return!0}else if(0>=a.getScrollLeft())return!0;c=0<b?1:-1;U!==c&&(a.scrollmom&&a.scrollmom.stop(),a.newscrollx=a.getScrollLeft(),U=c);a.lastdeltax-=b}if(e){if(function(){var b=a.getScrollTop();if(0>e){if(b>=a.page.maxh)return!0}else if(0>=b)return!0}()){if(g.nativeparentscrolling&&p&&!a.ispage&&!a.zoomactive)return!0;p=a.view.h>>1;a.newscrolly<-p?(a.newscrolly=-p,e=-1):a.newscrolly>a.page.maxh+p?(a.newscrolly=a.page.maxh+p,e=1):e=0}p=0<e?1:-1;V!==p&&(a.scrollmom&&a.scrollmom.stop(),a.newscrolly=a.getScrollTop(),V=p);a.lastdeltay-=e}(e||b)&&a.synched("relativexy",function(){var b=a.lastdeltay+a.newscrolly;a.lastdeltay=0;var e=a.lastdeltax+a.newscrollx;a.lastdeltax=0;a.rail.drag||a.doScrollPos(e,b)})}function O(b,e,p){var c,d;if(!p&&R)return!0;0===b.deltaMode?(c=-(g.mousescrollstep/54*b.deltaX)|0,d=-(g.mousescrollstep/54*b.deltaY)|0):1===b.deltaMode&&(c=-(b.deltaX*g.mousescrollstep*50/80)|0,d=-(b.deltaY*g.mousescrollstep*50/80)|0);e&&g.oneaxismousemode&&0===c&&d&&(c=d,d=0,p&&(0>c?a.getScrollLeft()>=a.page.maxw:0>=a.getScrollLeft())&&(d=c,c=0));a.isrtlmode&&(c=-c);if(z(c,d,p,!0))p&&(R=!0);else return R=!1,b.stopImmediatePropagation(),b.preventDefault()}var a=this;this.version="3.7.6";this.name="nicescroll";this.me=c;var I=f("body"),g=this.opt={doc:I,win:!1};f.extend(g,T);g.snapbackspeed=80;if(m)for(var u in g)void 0!==m[u]&&(g[u]=m[u]);g.disablemutationobserver&&(A=!1);this.iddoc=(this.doc=g.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(g.win?g.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==g.win;this.win=g.win||(this.ispage?x:this.doc);this.docscroll=this.ispage&&!this.haswrapper?x:this.win;this.body=I;this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=g.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;if("auto"==g.rtlmode){u=this.win[0]==l?this.body:this.win;var v=u.css("writing-mode")||u.css("-webkit-writing-mode")||u.css("-ms-writing-mode")||u.css("-moz-writing-mode");"horizontal-tb"==v||"lr-tb"==v||""===v?(this.isrtlmode="rtl"==u.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==v||"tb"==v||"tb-rl"==v||"rl-tb"==v,this.isvertical="vertical-rl"==v||"tb"==v||"tb-rl"==v)}else this.isrtlmode=!0===g.rtlmode,this.isvertical=!1;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;if(!1!==g.scrollbarid)this.id=g.scrollbarid;else{do this.id="ascrail"+X++;while(h.getElementById(this.id))}this.hidden=this.locked=this.railslocked=this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=g.overflowx;this.overflowy=g.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=Y();var k=f.extend({},this.detected);this.ishwscroll=(this.canhwscroll=k.hastransform&&g.hwacceleration)&&a.haswrapper;this.hasreversehr=this.isrtlmode?this.isvertical?!(k.iswebkit||k.isie||k.isie11):!(k.iswebkit||k.isie&&!k.isie10&&!k.isie11):!1;this.istouchcapable=!1;k.cantouch||!k.hasw3ctouch&&!k.hasmstouch?!k.cantouch||k.isios||k.isandroid||!k.iswebkit&&!k.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0;g.enablemouselockapi||(k.hasmousecapture=!1,k.haspointerlock=!1);this.debounced=function(b,e,c){a&&(a.delaylist[b]||(a.delaylist[b]={h:q(function(){a.delaylist[b].fn.call(a);a.delaylist[b]=!1},c)},e.call(a)),a.delaylist[b].fn=e)};this.synched=function(b,e){a.synclist[b]?a.synclist[b]=e:(a.synclist[b]=e,q(function(){a&&(a.synclist[b]&&a.synclist[b].call(a),a.synclist[b]=null)}))};this.unsynched=function(b){a.synclist[b]&&(a.synclist[b]=!1)};this.css=function(b,e){for(var c in e)a.saved.css.push([b,c,b.css(c)]),b.css(c,e[c])};this.scrollTop=function(b){return void 0===b?a.getScrollTop():a.setScrollTop(b)};this.scrollLeft=function(b){return void 0===b?a.getScrollLeft():a.setScrollLeft(b)};var w=function(a,e,c,g,d,f,k){this.st=a;this.ed=e;this.spd=c;this.p1=g||0;this.p2=d||1;this.p3=f||0;this.p4=k||1;this.ts=t();this.df=e-a};w.prototype={B2:function(a){return 3*(1-a)*(1-a)*a},B3:function(a){return 3*(1-a)*a*a},B4:function(a){return a*a*a},getPos:function(){return(t()-this.ts)/this.spd},getNow:function(){var a=(t()-this.ts)/this.spd,e=this.B2(a)+this.B3(a)+this.B4(a);return 1<=a?this.ed:this.st+this.df*e|0},update:function(a,e){this.st=this.getNow();this.ed=a;this.spd=e;this.ts=t();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};k.hastranslate3d&&k.isios&&this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(b){if(!b){if(b=n())return 16==b.length?-b[13]:-b[5];if(a.timerscroll&&a.timerscroll.bz)return a.timerscroll.bz.getNow()}return a.doc.translate.y};this.getScrollLeft=function(b){if(!b){if(b=n())return 16==b.length?-b[12]:-b[4];if(a.timerscroll&&a.timerscroll.bh)return a.timerscroll.bh.getNow()}return a.doc.translate.x};this.notifyScrollEvent=function(a){var b=h.createEvent("UIEvents");b.initUIEvent("scroll",!1,!1,l,1);b.niceevent=!0;a.dispatchEvent(b)};var B=this.isrtlmode?1:-1;k.hastranslate3d&&g.enabletranslate3d?(this.setScrollTop=function(b,e){a.doc.translate.y=b;a.doc.translate.ty=-1*b+"px";a.doc.css(k.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0)");e||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(b,e){a.doc.translate.x=b;a.doc.translate.tx=b*B+"px";a.doc.css(k.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0)");e||a.notifyScrollEvent(a.win[0])}):(this.setScrollTop=function(b,e){a.doc.translate.y=b;a.doc.translate.ty=-1*b+"px";a.doc.css(k.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")");e||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(b,e){a.doc.translate.x=b;a.doc.translate.tx=b*B+"px";a.doc.css(k.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")");e||a.notifyScrollEvent(a.win[0])})}else this.getScrollTop=function(){return a.docscroll.scrollTop()},this.setScrollTop=function(b){a.docscroll.scrollTop(b)},this.getScrollLeft=function(){return a.hasreversehr?a.detected.ismozilla?a.page.maxw-Math.abs(a.docscroll.scrollLeft()):a.page.maxw-a.docscroll.scrollLeft():a.docscroll.scrollLeft()},this.setScrollLeft=function(b){return setTimeout(function(){if(a)return a.hasreversehr&&(b=a.detected.ismozilla?-(a.page.maxw-b):a.page.maxw-b),a.docscroll.scrollLeft(b)},1)};this.getTarget=function(a){return a?a.target?a.target:a.srcElement?a.srcElement:!1:!1};this.hasParent=function(a,e){if(!a)return!1;for(var b=a.target||a.srcElement||a||!1;b&&b.id!=e;)b=b.parentNode||!1;return!1!==b};var E={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||h.documentElement.scrollTop,left:l.pageXOffset||h.documentElement.scrollLeft}};this.getOffset=function(){if(a.isfixed){var b=a.win.offset(),e=a.getDocumentScrollOffset();b.top-=e.top;b.left-=e.left;return b}b=a.win.offset();if(!a.viewport)return b;e=a.viewport.offset();return{top:b.top-e.top,left:b.left-e.left}};this.updateScrollBar=function(b){var e,c,f;if(a.ishwscroll)a.rail.css({height:a.win.innerHeight()-(g.railpadding.top+g.railpadding.bottom)}),a.railh&&a.railh.css({width:a.win.innerWidth()-(g.railpadding.left+g.railpadding.right)});else{var k=a.getOffset();e=k.top;c=k.left-(g.railpadding.left+g.railpadding.right);e+=d(a.win,"border-top-width",!0);c+=a.rail.align?a.win.outerWidth()-d(a.win,"border-right-width")-a.rail.width:d(a.win,"border-left-width");if(f=g.railoffset)f.top&&(e+=f.top),f.left&&(c+=f.left);a.railslocked||a.rail.css({top:e,left:c,height:(b?b.h:a.win.innerHeight())-(g.railpadding.top+g.railpadding.bottom)});a.zoom&&a.zoom.css({top:e+1,left:1==a.rail.align?c-20:c+a.rail.width+4});if(a.railh&&!a.railslocked){e=k.top;c=k.left;if(f=g.railhoffset)f.top&&(e+=f.top),f.left&&(c+=f.left);b=a.railh.align?e+d(a.win,"border-top-width",!0)+a.win.innerHeight()-a.railh.height:e+d(a.win,"border-top-width",!0);c+=d(a.win,"border-left-width");a.railh.css({top:b-(g.railpadding.top+g.railpadding.bottom),left:c,width:a.railh.width})}}};this.doRailClick=function(b,e,c){var g;a.railslocked||(a.cancelEvent(b),"pageY"in b||(b.pageX=b.clientX+h.documentElement.scrollLeft,b.pageY=b.clientY+h.documentElement.scrollTop),e?(e=c?a.doScrollLeft:a.doScrollTop,g=c?(b.pageX-a.railh.offset().left-a.cursorwidth/2)*a.scrollratio.x:(b.pageY-a.rail.offset().top-a.cursorheight/2)*a.scrollratio.y,a.unsynched("relativexy"),e(g|0)):(e=c?a.doScrollLeftBy:a.doScrollBy,g=c?a.scroll.x:a.scroll.y,b=c?b.pageX-a.railh.offset().left:b.pageY-a.rail.offset().top,c=c?a.view.w:a.view.h,e(g>=b?c:-c)))};a.newscrolly=a.newscrollx=0;a.hasanimationframe="requestAnimationFrame"in l;a.hascancelanimationframe="cancelAnimationFrame"in l;a.hasborderbox=!1;this.init=function(){a.saved.css=[];if(k.isoperamini||k.isandroid&&!("hidden"in h))return!0;g.emulatetouch=g.emulatetouch||g.touchbehavior;a.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(h.body)["box-sizing"];var b={"overflow-y":"hidden"};if(k.isie11||k.isie10)b["-ms-overflow-style"]="none";a.ishwscroll&&(this.doc.css(k.transitionstyle,k.prefixstyle+"transform 0ms ease-out"),k.transitionend&&a.bind(a.doc,k.transitionend,a.onScrollTransitionEnd,!1));a.zindex="auto";a.zindex=a.ispage||"auto"!=g.zindex?g.zindex:N()||"auto";!a.ispage&&"auto"!=a.zindex&&a.zindex>F&&(F=a.zindex);a.isie&&0===a.zindex&&"auto"==g.zindex&&(a.zindex="auto");if(!a.ispage||!k.isieold){var e=a.docscroll;a.ispage&&(e=a.haswrapper?a.win:a.doc);a.css(e,b);a.ispage&&(k.isie11||k.isie)&&a.css(f("html"),b);!k.isios||a.ispage||a.haswrapper||a.css(I,{"-webkit-overflow-scrolling":"touch"});var c=f(h.createElement("div"));c.css({position:"relative",top:0,"float":"right",width:g.cursorwidth,height:0,"background-color":g.cursorcolor,border:g.cursorborder,"background-clip":"padding-box","-webkit-border-radius":g.cursorborderradius,"-moz-border-radius":g.cursorborderradius,"border-radius":g.cursorborderradius});c.addClass("nicescroll-cursors");a.cursor=c;var d=f(h.createElement("div"));d.attr("id",a.id);d.addClass("nicescroll-rails nicescroll-rails-vr");var n,m,H=["left","right","top","bottom"],t;for(t in H)m=H[t],(n=g.railpadding[m]||0)&&d.css("padding-"+m,n+"px");d.append(c);d.width=Math.max(parseFloat(g.cursorwidth),c.outerWidth());d.css({width:d.width+"px",zIndex:a.zindex,background:g.background,cursor:"default"});d.visibility=!0;d.scrollable=!0;d.align="left"==g.railalign?0:1;a.rail=d;c=a.rail.drag=!1;!g.boxzoom||a.ispage||k.isieold||(c=h.createElement("div"),a.bind(c,"click",a.doZoom),a.bind(c,"mouseenter",function(){a.zoom.css("opacity",g.cursoropacitymax)}),a.bind(c,"mouseleave",function(){a.zoom.css("opacity",g.cursoropacitymin)}),a.zoom=f(c),a.zoom.css({cursor:"pointer",zIndex:a.zindex,backgroundImage:"url("+g.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),g.dblclickzoom&&a.bind(a.win,"dblclick",a.doZoom),k.cantouch&&g.gesturezoom&&(a.ongesturezoom=function(b){1.5<b.scale&&a.doZoomIn(b);.8>b.scale&&a.doZoomOut(b);return a.cancelEvent(b)},a.bind(a.win,"gestureend",a.ongesturezoom)));a.railh=!1;var r;g.horizrailenabled&&(a.css(e,{overflowX:"hidden"}),c=f(h.createElement("div")),c.css({position:"absolute",top:0,height:g.cursorwidth,width:0,backgroundColor:g.cursorcolor,border:g.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":g.cursorborderradius,"-moz-border-radius":g.cursorborderradius,"border-radius":g.cursorborderradius}),k.isieold&&c.css("overflow","hidden"),c.addClass("nicescroll-cursors"),a.cursorh=c,r=f(h.createElement("div")),r.attr("id",a.id+"-hr"),r.addClass("nicescroll-rails nicescroll-rails-hr"),r.height=Math.max(parseFloat(g.cursorwidth),c.outerHeight()),r.css({height:r.height+"px",zIndex:a.zindex,background:g.background}),r.append(c),r.visibility=!0,r.scrollable=!0,r.align="top"==g.railvalign?0:1,a.railh=r,a.railh.drag=!1);a.ispage?(d.css({position:"fixed",top:0,height:"100%"}),d.css(d.align?{right:0}:{left:0}),a.body.append(d),a.railh&&(r.css({position:"fixed",left:0,width:"100%"}),r.css(r.align?{bottom:0}:{top:0}),a.body.append(r))):(a.ishwscroll?("static"==a.win.css("position")&&a.css(a.win,{position:"relative"}),e="HTML"==a.win[0].nodeName?a.body:a.win,f(e).scrollTop(0).scrollLeft(0),a.zoom&&(a.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),e.append(a.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),e.append(d),r&&(r.css({position:"absolute",left:0,bottom:0}),r.css(r.align?{bottom:0}:{top:0}),e.append(r))):(a.isfixed="fixed"==a.win.css("position"),e=a.isfixed?"fixed":"absolute",a.isfixed||(a.viewport=a.getViewport(a.win[0])),a.viewport&&(a.body=a.viewport,/fixed|absolute/.test(a.viewport.css("position"))||a.css(a.viewport,{position:"relative"})),d.css({position:e}),a.zoom&&a.zoom.css({position:e}),a.updateScrollBar(),a.body.append(d),a.zoom&&a.body.append(a.zoom),a.railh&&(r.css({position:e}),a.body.append(r))),k.isios&&a.css(a.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),g.disableoutline&&(k.isie&&a.win.attr("hideFocus","true"),k.iswebkit&&a.win.css("outline","none")));!1===g.autohidemode?(a.autohidedom=!1,a.rail.css({opacity:g.cursoropacitymax}),a.railh&&a.railh.css({opacity:g.cursoropacitymax})):!0===g.autohidemode||"leave"===g.autohidemode?(a.autohidedom=f().add(a.rail),k.isie8&&(a.autohidedom=a.autohidedom.add(a.cursor)),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh)),a.railh&&k.isie8&&(a.autohidedom=a.autohidedom.add(a.cursorh))):"scroll"==g.autohidemode?(a.autohidedom=f().add(a.rail),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh))):"cursor"==g.autohidemode?(a.autohidedom=f().add(a.cursor),a.railh&&(a.autohidedom=a.autohidedom.add(a.cursorh))):"hidden"==g.autohidemode&&(a.autohidedom=!1,a.hide(),a.railslocked=!1);if(k.cantouch||a.istouchcapable||g.emulatetouch||k.hasmstouch){a.scrollmom=new Z(a);a.ontouchstart=function(b){if(a.locked||b.pointerType&&("mouse"===b.pointerType||b.pointerType===b.MSPOINTER_TYPE_MOUSE))return!1;a.hasmoving=!1;a.scrollmom.timer&&(a.triggerScrollEnd(),a.scrollmom.stop());if(!a.railslocked){var e=a.getTarget(b);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return a.stopPropagation(b);var c="mousedown"===b.type;!("clientX"in b)&&"changedTouches"in b&&(b.clientX=b.changedTouches[0].clientX,b.clientY=b.changedTouches[0].clientY);if(a.forcescreen){var d=b;b={original:b.original?b.original:b};b.clientX=d.screenX;b.clientY=d.screenY}a.rail.drag={x:b.clientX,y:b.clientY,sx:a.scroll.x,sy:a.scroll.y,st:a.getScrollTop(),sl:a.getScrollLeft(),pt:2,dl:!1,tg:e};if(a.ispage||!g.directionlockdeadzone)a.rail.drag.dl="f";else{var d=x.width(),y=x.height(),p=a.getContentSize(),y=p.h-y,d=p.w-d;a.rail.drag.ck=a.rail.scrollable&&!a.railh.scrollable?0<y?"v":!1:!a.rail.scrollable&&a.railh.scrollable?0<d?"h":!1:!1}g.emulatetouch&&a.isiframe&&k.isie&&(d=a.win.position(),a.rail.drag.x+=d.left,a.rail.drag.y+=d.top);a.hasmoving=!1;a.lastmouseup=!1;a.scrollmom.reset(b.clientX,b.clientY);if(e&&c){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return k.hasmousecapture&&e.setCapture(),g.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(b){if(a.hasmoving)return!1;e._onclick.call(this,b)}),a.cancelEvent(b)):a.stopPropagation(b);/SUBMIT|CANCEL|BUTTON/i.test(f(e).attr("type"))&&(a.preventclick={tg:e,click:!1})}}};a.ontouchend=function(b){if(!a.rail.drag)return!0;if(2==a.rail.drag.pt){if(b.pointerType&&("mouse"===b.pointerType||b.pointerType===b.MSPOINTER_TYPE_MOUSE))return!1;a.rail.drag=!1;var e="mouseup"===b.type;if(a.hasmoving&&(a.scrollmom.doMomentum(),a.lastmouseup=!0,a.hideCursor(),k.hasmousecapture&&h.releaseCapture(),e))return a.cancelEvent(b)}else if(1==a.rail.drag.pt)return a.onmouseup(b)};var v=g.emulatetouch&&a.isiframe&&!k.hasmousecapture,z=.3*g.directionlockdeadzone|0;a.ontouchmove=function(b,e){if(!a.rail.drag||b.targetTouches&&g.preventmultitouchscrolling&&1<b.targetTouches.length||b.pointerType&&("mouse"===b.pointerType||b.pointerType===b.MSPOINTER_TYPE_MOUSE))return!0;if(2==a.rail.drag.pt){"changedTouches"in b&&(b.clientX=b.changedTouches[0].clientX,b.clientY=b.changedTouches[0].clientY);var c,d;d=c=0;v&&!e&&(c=a.win.position(),d=-c.left,c=-c.top);var y=b.clientY+c;c=y-a.rail.drag.y;var p=b.clientX+d,f=p-a.rail.drag.x,n=a.rail.drag.st-c;if(a.ishwscroll&&g.bouncescroll)0>n?n=Math.round(n/2):n>a.page.maxh&&(n=a.page.maxh+Math.round((n-a.page.maxh)/2));else if(0>n?y=n=0:n>a.page.maxh&&(n=a.page.maxh,y=0),0===y&&!a.hasmoving)return a.ispage||(a.rail.drag=!1),!0;var m=a.getScrollLeft();a.railh&&a.railh.scrollable&&(m=a.isrtlmode?f-a.rail.drag.sl:a.rail.drag.sl-f,a.ishwscroll&&g.bouncescroll?0>m?m=Math.round(m/2):m>a.page.maxw&&(m=a.page.maxw+Math.round((m-a.page.maxw)/2)):(0>m&&(p=m=0),m>a.page.maxw&&(m=a.page.maxw,p=0)));if(!a.hasmoving){if(a.rail.drag.y===b.clientY&&a.rail.drag.x===b.clientX)return a.cancelEvent(b);d=Math.abs(c);c=Math.abs(f);f=g.directionlockdeadzone;a.rail.drag.ck?"v"==a.rail.drag.ck?c>f&&d<=z?a.rail.drag=!1:d>f&&(a.rail.drag.dl="v"):"h"==a.rail.drag.ck&&(d>f&&c<=z?a.rail.drag=!1:c>f&&(a.rail.drag.dl="h")):d>f&&c>f?a.rail.drag.dl="f":d>f?a.rail.drag.dl=c>z?"f":"v":c>f&&(a.rail.drag.dl=d>z?"f":"h");if(!a.rail.drag.dl)return a.cancelEvent(b);a.triggerScrollStart(b.clientX,b.clientY,0,0,0);a.hasmoving=!0}a.preventclick&&!a.preventclick.click&&(a.preventclick.click=a.preventclick.tg.onclick||!1,a.preventclick.tg.onclick=a.onpreventclick);a.rail.drag.dl&&("v"==a.rail.drag.dl?m=a.rail.drag.sl:"h"==a.rail.drag.dl&&(n=a.rail.drag.st));a.synched("touchmove",function(){a.rail.drag&&2==a.rail.drag.pt&&(a.prepareTransition&&a.resetTransition(),a.rail.scrollable&&a.setScrollTop(n),a.scrollmom.update(p,y),a.railh&&a.railh.scrollable?(a.setScrollLeft(m),a.showCursor(n,m)):a.showCursor(n),k.isie10&&h.selection.clear())});return a.cancelEvent(b)}if(1==a.rail.drag.pt)return a.onmousemove(b)};a.ontouchstartCursor=function(b,e){if(!a.rail.drag||3==a.rail.drag.pt){if(a.locked)return a.cancelEvent(b);a.cancelScroll();a.rail.drag={x:b.touches[0].clientX,y:b.touches[0].clientY,sx:a.scroll.x,sy:a.scroll.y,pt:3,hr:!!e};var c=a.getTarget(b);!a.ispage&&k.hasmousecapture&&c.setCapture();a.isiframe&&!k.hasmousecapture&&(a.saved.csspointerevents=a.doc.css("pointer-events"),a.css(a.doc,{"pointer-events":"none"}));return a.cancelEvent(b)}};a.ontouchendCursor=function(b){if(a.rail.drag&&(k.hasmousecapture&&h.releaseCapture(),a.isiframe&&!k.hasmousecapture&&a.doc.css("pointer-events",a.saved.csspointerevents),3==a.rail.drag.pt))return a.rail.drag=!1,a.cancelEvent(b)};a.ontouchmoveCursor=function(b){if(a.rail.drag&&3==a.rail.drag.pt){a.cursorfreezed=!0;if(a.rail.drag.hr){a.scroll.x=a.rail.drag.sx+(b.touches[0].clientX-a.rail.drag.x);0>a.scroll.x&&(a.scroll.x=0);var e=a.scrollvaluemaxw;a.scroll.x>e&&(a.scroll.x=e)}else a.scroll.y=a.rail.drag.sy+(b.touches[0].clientY-a.rail.drag.y),0>a.scroll.y&&(a.scroll.y=0),e=a.scrollvaluemax,a.scroll.y>e&&(a.scroll.y=e);a.synched("touchmove",function(){a.rail.drag&&3==a.rail.drag.pt&&(a.showCursor(),a.rail.drag.hr?a.doScrollLeft(Math.round(a.scroll.x*a.scrollratio.x),g.cursordragspeed):a.doScrollTop(Math.round(a.scroll.y*a.scrollratio.y),g.cursordragspeed))});return a.cancelEvent(b)}}}a.onmousedown=function(b,e){if(!a.rail.drag||1==a.rail.drag.pt){if(a.railslocked)return a.cancelEvent(b);a.cancelScroll();a.rail.drag={x:b.clientX,y:b.clientY,sx:a.scroll.x,sy:a.scroll.y,pt:1,hr:e||!1};var c=a.getTarget(b);k.hasmousecapture&&c.setCapture();a.isiframe&&!k.hasmousecapture&&(a.saved.csspointerevents=a.doc.css("pointer-events"),a.css(a.doc,{"pointer-events":"none"}));a.hasmoving=!1;return a.cancelEvent(b)}};a.onmouseup=function(b){if(a.rail.drag){if(1!=a.rail.drag.pt)return!0;k.hasmousecapture&&h.releaseCapture();a.isiframe&&!k.hasmousecapture&&a.doc.css("pointer-events",a.saved.csspointerevents);a.rail.drag=!1;a.cursorfreezed=!1;a.hasmoving&&a.triggerScrollEnd();return a.cancelEvent(b)}};a.onmousemove=function(b){if(a.rail.drag){if(1===a.rail.drag.pt){if(k.ischrome&&0===b.which)return a.onmouseup(b);a.cursorfreezed=!0;a.hasmoving||a.triggerScrollStart(b.clientX,b.clientY,0,0,0);a.hasmoving=!0;if(a.rail.drag.hr){a.scroll.x=a.rail.drag.sx+(b.clientX-a.rail.drag.x);0>a.scroll.x&&(a.scroll.x=0);var e=a.scrollvaluemaxw;a.scroll.x>e&&(a.scroll.x=e)}else a.scroll.y=a.rail.drag.sy+(b.clientY-a.rail.drag.y),0>a.scroll.y&&(a.scroll.y=0),e=a.scrollvaluemax,a.scroll.y>e&&(a.scroll.y=e);a.synched("mousemove",function(){a.cursorfreezed&&(a.showCursor(),a.rail.drag.hr?a.scrollLeft(Math.round(a.scroll.x*a.scrollratio.x)):a.scrollTop(Math.round(a.scroll.y*a.scrollratio.y)))});return a.cancelEvent(b)}}else a.checkarea=0};if(k.cantouch||g.emulatetouch)a.onpreventclick=function(b){if(a.preventclick)return a.preventclick.tg.onclick=a.preventclick.click,a.preventclick=!1,a.cancelEvent(b)},a.onclick=k.isios?!1:function(b){return a.lastmouseup?(a.lastmouseup=!1,a.cancelEvent(b)):!0},g.grabcursorenabled&&k.cursorgrabvalue&&(a.css(a.ispage?a.doc:a.win,{cursor:k.cursorgrabvalue}),a.css(a.rail,{cursor:k.cursorgrabvalue}));else{var u=function(b){if(a.selectiondrag){if(b){var e=a.win.outerHeight();b=b.pageY-a.selectiondrag.top;0<b&&b<e&&(b=0);b>=e&&(b-=e);a.selectiondrag.df=b}0!==a.selectiondrag.df&&(a.doScrollBy(-(2*a.selectiondrag.df/6)|0),a.debounced("doselectionscroll",function(){u()},50))}};a.hasTextSelected="getSelection"in h?function(){return 0<h.getSelection().rangeCount}:"selection"in h?function(){return"None"!=h.selection.type}:function(){return!1};a.onselectionstart=function(b){a.ispage||(a.selectiondrag=a.win.offset())};a.onselectionend=function(b){a.selectiondrag=!1};a.onselectiondrag=function(b){a.selectiondrag&&a.hasTextSelected()&&a.debounced("selectionscroll",function(){u(b)},250)}}k.hasw3ctouch?(a.css(a.ispage?f("html"):a.win,{"touch-action":"none"}),a.css(a.rail,{"touch-action":"none"}),a.css(a.cursor,{"touch-action":"none"}),a.bind(a.win,"pointerdown",a.ontouchstart),a.bind(h,"pointerup",a.ontouchend),a.delegate(h,"pointermove",a.ontouchmove)):k.hasmstouch?(a.css(a.ispage?f("html"):a.win,{"-ms-touch-action":"none"}),a.css(a.rail,{"-ms-touch-action":"none"}),a.css(a.cursor,{"-ms-touch-action":"none"}),a.bind(a.win,"MSPointerDown",a.ontouchstart),a.bind(h,"MSPointerUp",a.ontouchend),a.delegate(h,"MSPointerMove",a.ontouchmove),a.bind(a.cursor,"MSGestureHold",function(a){a.preventDefault()}),a.bind(a.cursor,"contextmenu",function(a){a.preventDefault()})):k.cantouch&&(a.bind(a.win,"touchstart",a.ontouchstart,!1,!0),a.bind(h,"touchend",a.ontouchend,!1,!0),a.bind(h,"touchcancel",a.ontouchend,!1,!0),a.delegate(h,"touchmove",a.ontouchmove,!1,!0));g.emulatetouch&&(a.bind(a.win,"mousedown",a.ontouchstart,!1,!0),a.bind(h,"mouseup",a.ontouchend,!1,!0),a.bind(h,"mousemove",a.ontouchmove,!1,!0));if(g.cursordragontouch||!k.cantouch&&!g.emulatetouch)a.rail.css({cursor:"default"}),a.railh&&a.railh.css({cursor:"default"}),a.jqbind(a.rail,"mouseenter",function(){if(!a.ispage&&!a.win.is(":visible"))return!1;a.canshowonmouseevent&&a.showCursor();a.rail.active=!0}),a.jqbind(a.rail,"mouseleave",function(){a.rail.active=!1;a.rail.drag||a.hideCursor()}),g.sensitiverail&&(a.bind(a.rail,"click",function(b){a.doRailClick(b,!1,!1)}),a.bind(a.rail,"dblclick",function(b){a.doRailClick(b,!0,!1)}),a.bind(a.cursor,"click",function(b){a.cancelEvent(b)}),a.bind(a.cursor,"dblclick",function(b){a.cancelEvent(b)})),a.railh&&(a.jqbind(a.railh,"mouseenter",function(){if(!a.ispage&&!a.win.is(":visible"))return!1;a.canshowonmouseevent&&a.showCursor();a.rail.active=!0}),a.jqbind(a.railh,"mouseleave",function(){a.rail.active=!1;a.rail.drag||a.hideCursor()}),g.sensitiverail&&(a.bind(a.railh,"click",function(b){a.doRailClick(b,!1,!0)}),a.bind(a.railh,"dblclick",function(b){a.doRailClick(b,!0,!0)}),a.bind(a.cursorh,"click",function(b){a.cancelEvent(b)}),a.bind(a.cursorh,"dblclick",function(b){a.cancelEvent(b)})));g.cursordragontouch&&(this.istouchcapable||k.cantouch)&&(a.bind(a.cursor,"touchstart",a.ontouchstartCursor),a.bind(a.cursor,"touchmove",a.ontouchmoveCursor),a.bind(a.cursor,"touchend",a.ontouchendCursor),a.cursorh&&a.bind(a.cursorh,"touchstart",function(b){a.ontouchstartCursor(b,!0)}),a.cursorh&&a.bind(a.cursorh,"touchmove",a.ontouchmoveCursor),a.cursorh&&a.bind(a.cursorh,"touchend",a.ontouchendCursor));g.emulatetouch||k.isandroid||k.isios?(a.bind(k.hasmousecapture?a.win:h,"mouseup",a.ontouchend),a.onclick&&a.bind(h,"click",a.onclick),g.cursordragontouch?(a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mouseup",a.onmouseup),a.cursorh&&a.bind(a.cursorh,"mousedown",function(b){a.onmousedown(b,!0)}),a.cursorh&&a.bind(a.cursorh,"mouseup",a.onmouseup)):(a.bind(a.rail,"mousedown",function(a){a.preventDefault()}),a.railh&&a.bind(a.railh,"mousedown",function(a){a.preventDefault()}))):(a.bind(k.hasmousecapture?a.win:h,"mouseup",a.onmouseup),a.bind(h,"mousemove",a.onmousemove),a.onclick&&a.bind(h,"click",a.onclick),a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mouseup",a.onmouseup),a.railh&&(a.bind(a.cursorh,"mousedown",function(b){a.onmousedown(b,!0)}),a.bind(a.cursorh,"mouseup",a.onmouseup)),!a.ispage&&g.enablescrollonselection&&(a.bind(a.win[0],"mousedown",a.onselectionstart),a.bind(h,"mouseup",a.onselectionend),a.bind(a.cursor,"mouseup",a.onselectionend),a.cursorh&&a.bind(a.cursorh,"mouseup",a.onselectionend),a.bind(h,"mousemove",a.onselectiondrag)),a.zoom&&(a.jqbind(a.zoom,"mouseenter",function(){a.canshowonmouseevent&&a.showCursor();a.rail.active=!0}),a.jqbind(a.zoom,"mouseleave",function(){a.rail.active=!1;a.rail.drag||a.hideCursor()})));g.enablemousewheel&&(a.isiframe||a.mousewheel(k.isie&&a.ispage?h:a.win,a.onmousewheel),a.mousewheel(a.rail,a.onmousewheel),a.railh&&a.mousewheel(a.railh,a.onmousewheelhr));a.ispage||k.cantouch||/HTML|^BODY/.test(a.win[0].nodeName)||(a.win.attr("tabindex")||a.win.attr({tabindex:++W}),a.bind(a.win,"focus",function(b){K=a.getTarget(b).id||a.getTarget(b)||!1;a.hasfocus=!0;a.canshowonmouseevent&&a.noticeCursor()}),a.bind(a.win,"blur",function(b){K=!1;a.hasfocus=!1}),a.bind(a.win,"mouseenter",function(b){P=a.getTarget(b).id||a.getTarget(b)||!1;a.hasmousefocus=!0;a.canshowonmouseevent&&a.noticeCursor()}),a.bind(a.win,"mouseleave",function(b){P=!1;a.hasmousefocus=!1;a.rail.drag||a.hideCursor()}));a.onkeypress=function(b){if(a.railslocked&&0===a.page.maxh)return!0;b=b||l.event;var e=a.getTarget(b);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)&&(!e.getAttribute("type")&&!e.type||!/submit|button|cancel/i.tp)||f(e).attr("contenteditable"))return!0;if(a.hasfocus||a.hasmousefocus&&!K||a.ispage&&!K&&!P){e=b.keyCode;if(a.railslocked&&27!=e)return a.cancelEvent(b);var c=b.ctrlKey||!1,d=b.shiftKey||!1,p=!1;switch(e){case 38:case 63233:a.doScrollBy(72);p=!0;break;case 40:case 63235:a.doScrollBy(-72);p=!0;break;case 37:case 63232:a.railh&&(c?a.doScrollLeft(0):a.doScrollLeftBy(72),p=!0);break;case 39:case 63234:a.railh&&(c?a.doScrollLeft(a.page.maxw):a.doScrollLeftBy(-72),p=!0);break;case 33:case 63276:a.doScrollBy(a.view.h);p=!0;break;case 34:case 63277:a.doScrollBy(-a.view.h);p=!0;break;case 36:case 63273:a.railh&&c?a.doScrollPos(0,0):a.doScrollTo(0);p=!0;break;case 35:case 63275:a.railh&&c?a.doScrollPos(a.page.maxw,a.page.maxh):a.doScrollTo(a.page.maxh);p=!0;break;case 32:g.spacebarenabled&&(d?a.doScrollBy(a.view.h):a.doScrollBy(-a.view.h),p=!0);break;case 27:a.zoomactive&&(a.doZoom(),p=!0)}if(p)return a.cancelEvent(b)}};g.enablekeyboard&&a.bind(h,k.isopera&&!k.isopera12?"keypress":"keydown",a.onkeypress);a.bind(h,"keydown",function(b){b.ctrlKey&&(a.wheelprevented=!0)});a.bind(h,"keyup",function(b){b.ctrlKey||(a.wheelprevented=!1)});a.bind(l,"blur",function(b){a.wheelprevented=!1});a.bind(l,"resize",a.onscreenresize);a.bind(l,"orientationchange",a.onscreenresize);a.bind(l,"load",a.lazyResize);if(k.ischrome&&!a.ispage&&!a.haswrapper){var O=a.win.attr("style"),d=parseFloat(a.win.css("width"))+1;a.win.css("width",d);a.synched("chromefix",function(){a.win.attr("style",O)})}a.onAttributeChange=function(b){a.lazyResize(a.isieold?250:30)};if(g.enableobserver&&(a.isie11||!1===A||(a.observerbody=new A(function(b){b.forEach(function(b){if("attributes"==b.type)return I.hasClass("modal-open")&&I.hasClass("modal-dialog")&&!f.contains(f(".modal-dialog")[0],a.doc[0])?a.hide():a.show()});if(a.me.clientWidth!=a.page.width||a.me.clientHeight!=a.page.height)return a.lazyResize(30)}),a.observerbody.observe(h.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!a.ispage&&!a.haswrapper)){var q=a.win[0];!1!==A?(a.observer=new A(function(b){b.forEach(a.onAttributeChange)}),a.observer.observe(q,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),a.observerremover=new A(function(b){b.forEach(function(b){if(0<b.removedNodes.length)for(var e in b.removedNodes)if(a&&b.removedNodes[e]===q)return a.remove()})}),a.observerremover.observe(q.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(a.bind(q,k.isie&&!k.isie9?"propertychange":"DOMAttrModified",a.onAttributeChange),k.isie9&&q.attachEvent("onpropertychange",a.onAttributeChange),a.bind(q,"DOMNodeRemoved",function(b){b.target===q&&a.remove()}))}!a.ispage&&g.boxzoom&&a.bind(l,"resize",a.resizeZoom);a.istextarea&&(a.bind(a.win,"keydown",a.lazyResize),a.bind(a.win,"mouseup",a.lazyResize));a.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(){a.iframexd=!1;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow._doc}catch(ba){a.iframexd=!0,e=!1}if(a.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;a.forcescreen=!0;a.isiframe&&(a.iframe={doc:f(e),html:a.doc.contents().find("html")[0],body:a.doc.contents().find("body")[0]},a.getContentSize=function(){return{w:Math.max(a.iframe.html.scrollWidth,a.iframe.body.scrollWidth),h:Math.max(a.iframe.html.scrollHeight,a.iframe.body.scrollHeight)}},a.docscroll=f(a.iframe.body));if(!k.isios&&g.iframeautoresize&&!a.isiframe){a.win.scrollTop(0);a.doc.height("");var c=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);a.doc.height(c)}a.lazyResize(30);a.css(f(a.iframe.body),b);k.isios&&a.haswrapper&&a.css(f(e.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?a.bind(this.contentWindow,"scroll",a.onscroll):a.bind(e,"scroll",a.onscroll);g.enablemousewheel&&a.mousewheel(e,a.onmousewheel);g.enablekeyboard&&a.bind(e,k.isopera?"keypress":"keydown",a.onkeypress);k.cantouch?(a.bind(e,"touchstart",a.ontouchstart),a.bind(e,"touchmove",a.ontouchmove)):g.emulatetouch&&(a.bind(e,"mousedown",a.ontouchstart),a.bind(e,"mousemove",function(b){return a.ontouchmove(b,!0)}),g.grabcursorenabled&&k.cursorgrabvalue&&a.css(f(e.body),{cursor:k.cursorgrabvalue}));a.bind(e,"mouseup",a.ontouchend);a.zoom&&(g.dblclickzoom&&a.bind(e,"dblclick",a.doZoom),a.ongesturezoom&&a.bind(e,"gestureend",a.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){w.call(a.doc[0],!1)},500);a.bind(this.doc,"load",w)}};this.showCursor=function(b,e){a.cursortimeout&&(clearTimeout(a.cursortimeout),a.cursortimeout=0);if(a.rail){a.autohidedom&&(a.autohidedom.stop().css({opacity:g.cursoropacitymax}),a.cursoractive=!0);a.rail.drag&&1==a.rail.drag.pt||(void 0!==b&&!1!==b&&(a.scroll.y=b/a.scrollratio.y|0),void 0!==e&&(a.scroll.x=e/a.scrollratio.x|0));a.cursor.css({height:a.cursorheight,top:a.scroll.y});if(a.cursorh){var c=a.hasreversehr?a.scrollvaluemaxw-a.scroll.x:a.scroll.x;a.cursorh.css({width:a.cursorwidth,left:!a.rail.align&&a.rail.visibility?c+a.rail.width:c});a.cursoractive=!0}a.zoom&&a.zoom.stop().css({opacity:g.cursoropacitymax})}};this.hideCursor=function(b){a.cursortimeout||!a.rail||!a.autohidedom||a.hasmousefocus&&"leave"===g.autohidemode||(a.cursortimeout=setTimeout(function(){a.rail.active&&a.showonmouseevent||(a.autohidedom.stop().animate({opacity:g.cursoropacitymin}),a.zoom&&a.zoom.stop().animate({opacity:g.cursoropacitymin}),a.cursoractive=!1);a.cursortimeout=0},b||g.hidecursordelay))};this.noticeCursor=function(b,e,c){a.showCursor(e,c);a.rail.active||a.hideCursor(b)};this.getContentSize=a.ispage?function(){return{w:Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),h:Math.max(h.body.scrollHeight,h.documentElement.scrollHeight)}}:a.haswrapper?function(){return{w:a.doc[0].offsetWidth,h:a.doc[0].offsetHeight}}:function(){return{w:a.docscroll[0].scrollWidth,h:a.docscroll[0].scrollHeight}};this.onResize=function(b,e){if(!a||!a.win)return!1;var c=a.page.maxh,d=a.page.maxw,f=a.view.h,k=a.view.w;a.view={w:a.ispage?a.win.width():a.win[0].clientWidth,h:a.ispage?a.win.height():a.win[0].clientHeight};a.page=e?e:a.getContentSize();a.page.maxh=Math.max(0,a.page.h-a.view.h);a.page.maxw=Math.max(0,a.page.w-a.view.w);if(a.page.maxh==c&&a.page.maxw==d&&a.view.w==k&&a.view.h==f){if(a.ispage)return a;c=a.win.offset();if(a.lastposition&&(d=a.lastposition,d.top==c.top&&d.left==c.left))return a;a.lastposition=c}0===a.page.maxh?(a.hideRail(),a.scrollvaluemax=0,a.scroll.y=0,a.scrollratio.y=0,a.cursorheight=0,a.setScrollTop(0),a.rail&&(a.rail.scrollable=!1)):(a.page.maxh-=g.railpadding.top+g.railpadding.bottom,a.rail.scrollable=!0);0===a.page.maxw?(a.hideRailHr(),a.scrollvaluemaxw=0,a.scroll.x=0,a.scrollratio.x=0,a.cursorwidth=0,a.setScrollLeft(0),a.railh&&(a.railh.scrollable=!1)):(a.page.maxw-=g.railpadding.left+g.railpadding.right,a.railh&&(a.railh.scrollable=g.horizrailenabled));a.railslocked=a.locked||0===a.page.maxh&&0===a.page.maxw;if(a.railslocked)return a.ispage||a.updateScrollBar(a.view),!1;a.hidden||(a.rail.visibility||a.showRail(),a.railh&&!a.railh.visibility&&a.showRailHr());a.istextarea&&a.win.css("resize")&&"none"!=a.win.css("resize")&&(a.view.h-=20);a.cursorheight=Math.min(a.view.h,Math.round(a.view.h/a.page.h*a.view.h));a.cursorheight=g.cursorfixedheight?g.cursorfixedheight:Math.max(g.cursorminheight,a.cursorheight);a.cursorwidth=Math.min(a.view.w,Math.round(a.view.w/a.page.w*a.view.w));a.cursorwidth=g.cursorfixedheight?g.cursorfixedheight:Math.max(g.cursorminheight,a.cursorwidth);a.scrollvaluemax=a.view.h-a.cursorheight-(g.railpadding.top+g.railpadding.bottom);a.hasborderbox||(a.scrollvaluemax-=a.cursor[0].offsetHeight-a.cursor[0].clientHeight);a.railh&&(a.railh.width=0<a.page.maxh?a.view.w-a.rail.width:a.view.w,a.scrollvaluemaxw=a.railh.width-a.cursorwidth-(g.railpadding.left+g.railpadding.right));a.ispage||a.updateScrollBar(a.view);a.scrollratio={x:a.page.maxw/a.scrollvaluemaxw,y:a.page.maxh/a.scrollvaluemax};a.getScrollTop()>a.page.maxh?a.doScrollTop(a.page.maxh):(a.scroll.y=a.getScrollTop()/a.scrollratio.y|0,a.scroll.x=a.getScrollLeft()/a.scrollratio.x|0,a.cursoractive&&a.noticeCursor());a.scroll.y&&0===a.getScrollTop()&&a.doScrollTo(a.scroll.y*a.scrollratio.y|0);return a};this.resize=a.onResize;var D=0;this.onscreenresize=function(b){clearTimeout(D);var e=!a.ispage&&!a.haswrapper;e&&a.hideRails();D=setTimeout(function(){a&&(e&&a.showRails(),a.resize());D=0},120)};this.lazyResize=function(b){clearTimeout(D);b=isNaN(b)?240:b;D=setTimeout(function(){a&&a.resize();D=0},b);return a};this.jqbind=function(b,e,c){a.events.push({e:b,n:e,f:c,q:!0});f(b).on(e,c)};this.mousewheel=function(b,e,c){b="jquery"in b?b[0]:b;if("onwheel"in h.createElement("div"))a._bind(b,"wheel",e,c||!1);else{var d=void 0!==h.onmousewheel?"mousewheel":"DOMMouseScroll";H(b,d,e,c||!1);"DOMMouseScroll"==d&&H(b,"MozMousePixelScroll",e,c||!1)}};var C=!1;if(k.haseventlistener){try{var M=Object.defineProperty({},"passive",{get:function(){C=!0}});l.addEventListener("test",null,M)}catch(b){}this.stopPropagation=function(a){if(!a)return!1;a=a.original?a.original:a;a.stopPropagation();return!1};this.cancelEvent=function(a){a.cancelable&&a.preventDefault();a.stopImmediatePropagation();a.preventManipulation&&a.preventManipulation();return!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=h.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(a,e,c){this.attachEvent("on"+a,e)},l.constructor.prototype.removeEventListener=h.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(a,e,c){this.detachEvent("on"+a,e)},this.cancelEvent=function(a){if(a=a||l.event)a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1;return!1},this.stopPropagation=function(a){if(a=a||l.event)a.cancelBubble=!0;return!1};this.delegate=function(b,e,c,d,g){var f=G[e]||!1;f||(f={a:[],l:[],f:function(a){for(var b=f.l,e=!1,c=b.length-1;0<=c;c--)if(e=b[c].call(a.target,a),!1===e)return!1;return e}},a.bind(b,e,f.f,d,g),G[e]=f);a.ispage?(f.a=[a.id].concat(f.a),f.l=[c].concat(f.l)):(f.a.push(a.id),f.l.push(c))};this.undelegate=function(b,e,c,d,g){if((c=G[e]||!1)&&c.l)for(d=0,g=c.l.length;d<g;d++)c.a[d]===a.id&&(c.a.splice(d),c.l.splice(d),0===c.a.length&&(a._unbind(b,e,c.l.f),G[e]=null))};this.bind=function(b,e,c,d,g){a._bind("jquery"in b?b[0]:b,e,c,d||!1,g||!1)};this._bind=function(b,e,c,d,g){a.events.push({e:b,n:e,f:c,b:d,q:!1});C&&g?b.addEventListener(e,c,{passive:!1,capture:d}):b.addEventListener(e,c,d||!1)};this._unbind=function(b,e,c,d){G[e]?a.undelegate(b,e,c,d):b.removeEventListener(e,c,d)};this.unbindAll=function(){for(var b=0;b<a.events.length;b++){var e=a.events[b];e.q?e.e.unbind(e.n,e.f):a._unbind(e.e,e.n,e.f,e.b)}};this.showRails=function(){return a.showRail().showRailHr()};this.showRail=function(){0===a.page.maxh||!a.ispage&&"none"==a.win.css("display")||(a.rail.visibility=!0,a.rail.css("display","block"));return a};this.showRailHr=function(){a.railh&&0!==a.page.maxw&&(a.ispage||"none"!=a.win.css("display"))&&(a.railh.visibility=!0,a.railh.css("display","block"));return a};this.hideRails=function(){return a.hideRail().hideRailHr()};this.hideRail=function(){a.rail.visibility=!1;a.rail.css("display","none");return a};this.hideRailHr=function(){a.railh&&(a.railh.visibility=!1,a.railh.css("display","none"));return a};this.show=function(){a.hidden=!1;a.railslocked=!1;return a.showRails()};this.hide=function(){a.hidden=!0;a.railslocked=!0;return a.hideRails()};this.toggle=function(){return a.hidden?a.show():a.hide()};this.remove=function(){a.stop();a.cursortimeout&&clearTimeout(a.cursortimeout);for(var b in a.delaylist)a.delaylist[b]&&L(a.delaylist[b].h);a.doZoomOut();a.unbindAll();k.isie9&&a.win[0].detachEvent("onpropertychange",a.onAttributeChange);!1!==a.observer&&a.observer.disconnect();!1!==a.observerremover&&a.observerremover.disconnect();!1!==a.observerbody&&a.observerbody.disconnect();a.events=null;a.cursor&&a.cursor.remove();a.cursorh&&a.cursorh.remove();a.rail&&a.rail.remove();a.railh&&a.railh.remove();a.zoom&&a.zoom.remove();for(b=0;b<a.saved.css.length;b++){var e=a.saved.css[b];e[0].css(e[1],void 0===e[2]?"":e[2])}a.saved=!1;a.me.data("__nicescroll","");var c=f.nicescroll;c.each(function(b){if(this&&this.id===a.id){delete c[b];for(var e=++b;e<c.length;e++,b++)c[b]=c[e];c.length--;c.length&&delete c[c.length]}});for(var d in a)a[d]=null,delete a[d];a=null};this.scrollstart=function(b){this.onscrollstart=b;return a};this.scrollend=function(b){this.onscrollend=b;return a};this.scrollcancel=function(b){this.onscrollcancel=b;return a};this.zoomin=function(b){this.onzoomin=b;return a};this.zoomout=function(b){this.onzoomout=b;return a};this.isScrollable=function(a){a=a.target?a.target:a;if("OPTION"==a.nodeName)return!0;for(;a&&1==a.nodeType&&a!==this.me[0]&&!/^BODY|HTML/.test(a.nodeName);){var b=f(a),b=b.css("overflowY")||b.css("overflowX")||b.css("overflow")||"";if(/scroll|auto/.test(b))return a.clientHeight!=a.scrollHeight;a=a.parentNode?a.parentNode:!1}return!1};this.getViewport=function(a){for(a=a&&a.parentNode?a.parentNode:!1;a&&1==a.nodeType&&!/^BODY|HTML/.test(a.nodeName);){var b=f(a);if(/fixed|absolute/.test(b.css("position")))return b;var c=b.css("overflowY")||b.css("overflowX")||b.css("overflow")||"";if(/scroll|auto/.test(c)&&a.clientHeight!=a.scrollHeight||0<b.getNiceScroll().length)return b;a=a.parentNode?a.parentNode:!1}return!1};this.triggerScrollStart=function(b,c,d,g,f){a.onscrollstart&&a.onscrollstart.call(a,{type:"scrollstart",current:{x:b,y:c},request:{x:d,y:g},end:{x:a.newscrollx,y:a.newscrolly},speed:f})};this.triggerScrollEnd=function(){if(a.onscrollend){var b=a.getScrollLeft(),c=a.getScrollTop();a.onscrollend.call(a,{type:"scrollend",current:{x:b,y:c},end:{x:b,y:c}})}};var V=0,U=0,Q=0,J=1,R=!1;this.onmousewheel=function(b){if(a.wheelprevented||a.locked)return!1;if(a.railslocked)return a.debounced("checkunlock",a.resize,250),!1;if(a.rail.drag)return a.cancelEvent(b);"auto"===g.oneaxismousemode&&0!==b.deltaX&&(g.oneaxismousemode=!1);if(g.oneaxismousemode&&0===b.deltaX&&!a.rail.scrollable)return a.railh&&a.railh.scrollable?a.onmousewheelhr(b):!0;var c=t(),d=!1;g.preservenativescrolling&&a.checkarea+600<c&&(a.nativescrollingarea=a.isScrollable(b),d=!0);a.checkarea=c;if(a.nativescrollingarea)return!0;if(b=O(b,!1,d))a.checkarea=0;return b};this.onmousewheelhr=function(b){if(!a.wheelprevented){if(a.railslocked||!a.railh.scrollable)return!0;if(a.rail.drag)return a.cancelEvent(b);var c=t(),d=!1;g.preservenativescrolling&&a.checkarea+600<c&&(a.nativescrollingarea=a.isScrollable(b),d=!0);a.checkarea=c;return a.nativescrollingarea?!0:a.railslocked?a.cancelEvent(b):O(b,!0,d)}};this.stop=function(){a.cancelScroll();a.scrollmon&&a.scrollmon.stop();a.cursorfreezed=!1;a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y));a.noticeCursor();return a};this.getTransitionSpeed=function(a){return 80+a/72*g.scrollspeed|0};if(g.smoothscroll)if(a.ishwscroll&&k.hastransition&&g.usetransition&&g.smoothscroll){var S="";this.resetTransition=function(){S="";a.doc.css(k.prefixstyle+"transition-duration","0ms")};this.prepareTransition=function(b,c){var e=c?b:a.getTransitionSpeed(b),d=e+"ms";S!==d&&(S=d,a.doc.css(k.prefixstyle+"transition-duration",d));return e};this.doScrollLeft=function(b,c){var e=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(b,e,c)};this.doScrollTop=function(b,c){var e=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(e,b,c)};this.cursorupdate={running:!1,start:function(){var b=this;if(!b.running){b.running=!0;var c=function(){b.running&&q(c);a.showCursor(a.getScrollTop(),a.getScrollLeft());a.notifyScrollEvent(a.win[0])};q(c)}},stop:function(){this.running=!1}};this.doScrollPos=function(b,c,d){d=a.getScrollTop();var e=a.getScrollLeft();(0>(a.newscrolly-d)*(c-d)||0>(a.newscrollx-e)*(b-e))&&a.cancelScroll();g.bouncescroll?(0>c?c=c/2|0:c>a.page.maxh&&(c=a.page.maxh+(c-a.page.maxh)/2|0),0>b?b=b/2|0:b>a.page.maxw&&(b=a.page.maxw+(b-a.page.maxw)/2|0)):(0>c?c=0:c>a.page.maxh&&(c=a.page.maxh),0>b?b=0:b>a.page.maxw&&(b=a.page.maxw));if(a.scrollrunning&&b==a.newscrollx&&c==a.newscrolly)return!1;a.newscrolly=c;a.newscrollx=b;d=a.getScrollTop();var e=a.getScrollLeft(),f,h;f=b-e;h=c-d;f=a.prepareTransition(Math.sqrt(f*f+h*h)|0);a.scrollrunning||(a.scrollrunning=!0,a.triggerScrollStart(e,d,b,c,f),a.cursorupdate.start());a.scrollendtrapped=!0;k.transitionend||(a.scrollendtrapped&&clearTimeout(a.scrollendtrapped),a.scrollendtrapped=setTimeout(a.onScrollTransitionEnd,f));a.setScrollTop(a.newscrolly);a.setScrollLeft(a.newscrollx)};this.cancelScroll=function(){if(!a.scrollendtrapped)return!0;var b=a.getScrollTop(),c=a.getScrollLeft();a.scrollrunning=!1;k.transitionend||clearTimeout(k.transitionend);a.scrollendtrapped=!1;a.resetTransition();a.setScrollTop(b);a.railh&&a.setScrollLeft(c);a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm);a.timerscroll=!1;a.cursorfreezed=!1;a.cursorupdate.stop();a.showCursor(b,c);return a};this.onScrollTransitionEnd=function(){if(a.scrollendtrapped){var b=a.getScrollTop(),c=a.getScrollLeft();0>b?b=0:b>a.page.maxh&&(b=a.page.maxh);0>c?c=0:c>a.page.maxw&&(c=a.page.maxw);if(b!=a.newscrolly||c!=a.newscrollx)return a.doScrollPos(c,b,g.snapbackspeed);a.scrollrunning&&a.triggerScrollEnd();a.scrollrunning=!1;a.scrollendtrapped=!1;a.resetTransition();a.timerscroll=!1;a.setScrollTop(b);a.railh&&a.setScrollLeft(c);a.cursorupdate.stop();a.noticeCursor(!1,b,c);a.cursorfreezed=!1}}}else this.doScrollLeft=function(b,c){var e=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(b,e,c)},this.doScrollTop=function(b,c){var e=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(e,b,c)},this.doScrollPos=function(b,c,d){d=a.getScrollTop();var e=a.getScrollLeft();(0>(a.newscrolly-d)*(c-d)||0>(a.newscrollx-e)*(b-e))&&a.cancelScroll();var g=!1;a.bouncescroll&&a.rail.visibility||(0>c?(c=0,g=!0):c>a.page.maxh&&(c=a.page.maxh,g=!0));a.bouncescroll&&a.railh.visibility||(0>b?(b=0,g=!0):b>a.page.maxw&&(b=a.page.maxw,g=!0));if(a.scrollrunning&&a.newscrolly===c&&a.newscrollx===b)return!0;a.newscrolly=c;a.newscrollx=b;a.dst={};a.dst.x=b-e;a.dst.y=c-d;a.dst.px=e;a.dst.py=d;var f=a.getTransitionSpeed(Math.sqrt(a.dst.x*a.dst.x+a.dst.y*a.dst.y)|0);a.bzscroll={};g=g?1:.58;a.bzscroll.x=new w(e,a.newscrollx,f,0,0,g,1);a.bzscroll.y=new w(d,a.newscrolly,f,0,0,g,1);t();var k=function(){if(a.scrollrunning){var b=a.bzscroll.y.getPos();a.setScrollLeft(a.bzscroll.x.getNow());a.setScrollTop(a.bzscroll.y.getNow());1>=b?a.timer=q(k):(a.scrollrunning=!1,a.timer=0,a.triggerScrollEnd())}};a.scrollrunning||(a.triggerScrollStart(e,d,b,c,f),a.scrollrunning=!0,a.timer=q(k))},this.cancelScroll=function(){a.timer&&L(a.timer);a.timer=0;a.bzscroll=!1;a.scrollrunning=!1;return a};else this.doScrollLeft=function(b,c){var e=a.getScrollTop();a.doScrollPos(b,e,c)},this.doScrollTop=function(b,c){var e=a.getScrollLeft();a.doScrollPos(e,b,c)},this.doScrollPos=function(b,c,d){var e=b>a.page.maxw?a.page.maxw:b;0>e&&(e=0);var g=c>a.page.maxh?a.page.maxh:c;0>g&&(g=0);a.synched("scroll",function(){a.setScrollTop(g);a.setScrollLeft(e)})},this.cancelScroll=function(){};this.doScrollBy=function(a,c){z(0,a)};this.doScrollLeftBy=function(a,c){z(a,0)};this.doScrollTo=function(b,c){a.cursorfreezed=!1;a.doScrollTop(b)};this.checkContentSize=function(){var b=a.getContentSize();b.h==a.page.h&&b.w==a.page.w||a.resize(!1,b)};a.onscroll=function(b){a.rail.drag||a.cursorfreezed||a.synched("scroll",function(){a.scroll.y=Math.round(a.getScrollTop()/a.scrollratio.y);a.railh&&(a.scroll.x=Math.round(a.getScrollLeft()/a.scrollratio.x));a.noticeCursor()})};a.bind(a.docscroll,"scroll",a.onscroll);this.doZoomIn=function(b){if(!a.zoomactive){a.zoomactive=!0;a.zoomrestore={style:{}};var c="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),d=a.win[0].style,g;for(g in c){var f=c[g];a.zoomrestore.style[f]=void 0!==d[f]?d[f]:""}a.zoomrestore.style.width=a.win.css("width");a.zoomrestore.style.height=a.win.css("height");a.zoomrestore.padding={w:a.win.outerWidth()-a.win.width(),h:a.win.outerHeight()-a.win.height()};k.isios4&&(a.zoomrestore.scrollTop=x.scrollTop(),x.scrollTop(0));a.win.css({position:k.isios4?"absolute":"fixed",top:0,left:0,zIndex:F+100,margin:0});c=a.win.css("backgroundColor");(""===c||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(c))&&a.win.css("backgroundColor","#fff");a.rail.css({zIndex:F+101});a.zoom.css({zIndex:F+102});a.zoom.css("backgroundPosition","0 -18px");a.resizeZoom();a.onzoomin&&a.onzoomin.call(a);return a.cancelEvent(b)}};this.doZoomOut=function(b){if(a.zoomactive)return a.zoomactive=!1,a.win.css("margin",""),a.win.css(a.zoomrestore.style),k.isios4&&x.scrollTop(a.zoomrestore.scrollTop),a.rail.css({"z-index":a.zindex}),a.zoom.css({"z-index":a.zindex}),a.zoomrestore=!1,a.zoom.css("backgroundPosition","0 0"),a.onResize(),a.onzoomout&&a.onzoomout.call(a),a.cancelEvent(b)};this.doZoom=function(b){return a.zoomactive?a.doZoomOut(b):a.doZoomIn(b)};this.resizeZoom=function(){if(a.zoomactive){var b=a.getScrollTop();a.win.css({width:x.width()-a.zoomrestore.padding.w+"px",height:x.height()-a.zoomrestore.padding.h+"px"});a.onResize();a.setScrollTop(Math.min(a.page.maxh,b))}};this.init();f.nicescroll.push(this)},Z=function(f){var c=this;this.nc=f;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.reset=function(f,h){c.stop();c.steptime=0;c.lasttime=t();c.speedx=0;c.speedy=0;c.lastx=f;c.lasty=h;c.lastscrollx=-1;c.lastscrolly=-1};this.update=function(f,h){var d=t();c.steptime=d-c.lasttime;c.lasttime=d;var d=h-c.lasty,n=f-c.lastx,m=c.nc.getScrollTop(),l=c.nc.getScrollLeft(),m=m+d,l=l+n;c.snapx=0>l||l>c.nc.page.maxw;c.snapy=0>m||m>c.nc.page.maxh;c.speedx=n;c.speedy=d;c.lastx=f;c.lasty=h};this.stop=function(){c.nc.unsynched("domomentum2d");c.timer&&clearTimeout(c.timer);c.timer=0;c.lastscrollx=-1;c.lastscrolly=-1};this.doSnapy=function(f,h){var d=!1;0>h?(h=0,d=!0):h>c.nc.page.maxh&&(h=c.nc.page.maxh,d=!0);0>f?(f=0,d=!0):f>c.nc.page.maxw&&(f=c.nc.page.maxw,d=!0);d?c.nc.doScrollPos(f,h,c.nc.opt.snapbackspeed):c.nc.triggerScrollEnd()};this.doMomentum=function(f){var h=t(),d=f?h+f:c.lasttime;f=c.nc.getScrollLeft();var m=c.nc.getScrollTop(),n=c.nc.page.maxh,l=c.nc.page.maxw;c.speedx=0<l?Math.min(60,c.speedx):0;c.speedy=0<n?Math.min(60,c.speedy):0;d=d&&60>=h-d;if(0>m||m>n||0>f||f>l)d=!1;f=c.speedx&&d?c.speedx:!1;if(c.speedy&&d&&c.speedy||f){var a=Math.max(16,c.steptime);50<a&&(f=a/50,c.speedx*=f,c.speedy*=f,a=50);c.demulxy=0;c.lastscrollx=c.nc.getScrollLeft();c.chkx=c.lastscrollx;c.lastscrolly=c.nc.getScrollTop();c.chky=c.lastscrolly;var q=c.lastscrollx,g=c.lastscrolly,u=function(){var d=600<t()-h?.04:.02;c.speedx&&(q=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),c.lastscrollx=q,0>q||q>l)&&(d=.1);c.speedy&&(g=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),c.lastscrolly=g,0>g||g>n)&&(d=.1);c.demulxy=Math.min(1,c.demulxy+d);c.nc.synched("domomentum2d",function(){c.speedx&&(c.nc.getScrollLeft(),c.chkx=q,c.nc.setScrollLeft(q));c.speedy&&(c.nc.getScrollTop(),c.chky=g,c.nc.setScrollTop(g));c.timer||(c.nc.hideCursor(),c.doSnapy(q,g))});1>c.demulxy?c.timer=setTimeout(u,a):(c.stop(),c.nc.hideCursor(),c.doSnapy(q,g))};u()}else c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},w=f.fn.scrollTop;f.cssHooks.pageYOffset={get:function(h,c,n){return(c=f.data(h,"__nicescroll")||!1)&&c.ishwscroll?c.getScrollTop():w.call(h)},set:function(h,c){var m=f.data(h,"__nicescroll")||!1;m&&m.ishwscroll?m.setScrollTop(parseInt(c)):w.call(h,c);return this}};f.fn.scrollTop=function(h){if(void 0===h){var c=this[0]?f.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollTop():w.call(this)}return this.each(function(){var c=f.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollTop(parseInt(h)):w.call(f(this),h)})};var B=f.fn.scrollLeft;f.cssHooks.pageXOffset={get:function(h,c,n){return(c=f.data(h,"__nicescroll")||!1)&&c.ishwscroll?c.getScrollLeft():B.call(h)},set:function(h,c){var m=f.data(h,"__nicescroll")||!1;m&&m.ishwscroll?m.setScrollLeft(parseInt(c)):B.call(h,c);return this}};f.fn.scrollLeft=function(h){if(void 0===h){var c=this[0]?f.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollLeft():B.call(this)}return this.each(function(){var c=f.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollLeft(parseInt(h)):B.call(f(this),h)})};var E=function(h){var c=this;this.length=0;this.name="nicescrollarray";this.each=function(d){f.each(c,d);return c};this.push=function(d){c[c.length]=d;c.length++};this.eq=function(d){return c[d]};if(h)for(var m=0;m<h.length;m++){var l=f.data(h[m],"__nicescroll")||!1;l&&(this[this.length]=l,this.length++)}return this};(function(f,c,h){for(var m=0,d=c.length;m<d;m++)h(f,c[m])})(E.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(f,c){f[c]=function(){var f=arguments;return this.each(function(){this[c].apply(this,f)})}});f.fn.getNiceScroll=function(h){return void 0===h?new E(this):this[h]&&f.data(this[h],"__nicescroll")||!1};(f.expr.pseudos||f.expr[":"]).nicescroll=function(h){return void 0!==f.data(h,"__nicescroll")};f.fn.niceScroll=function(h,c){void 0!==c||"object"!=typeof h||"jquery"in h||(c=h,h=!1);var l=new E;this.each(function(){var m=f(this),d=f.extend({},c);if(h){var n=f(h);d.doc=1<n.length?f(h,m):n;d.win=m}"doc"in d&&!("win"in d)&&(d.win=m);n=m.data("__nicescroll")||!1;n||(d.doc=d.doc||m,n=new aa(d,m),m.data("__nicescroll",n));l.push(n)});return 1===l.length?l[0]:l};l.NiceScroll={getjQuery:function(){return f}};f.nicescroll||(f.nicescroll=new E,f.nicescroll.options=T)});