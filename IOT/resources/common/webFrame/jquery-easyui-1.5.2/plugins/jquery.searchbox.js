/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(b){function h(a){function c(c){c&&(b(a).textbox("button").menubutton({text:c.text,iconCls:c.iconCls||null,menu:d.menu,menuAlign:e.buttonAlign,plain:!1}),d.searchbox.find("input.textbox-value").attr("name",c.name||c.text),b(a).searchbox("resize"))}var d=b.data(a,"searchbox"),e=d.options,g=b.extend(!0,[],e.icons);g.push({iconCls:"searchbox-button",handler:function(a){var c=b(a.data.target);c.searchbox("options").searcher.call(a.data.target,c.searchbox("getValue"),c.searchbox("getName"))}});(function(){if(e.menu){d.menu=b(e.menu).menu();var a=d.menu.menu("options"),f=a.onClick;a.onClick=function(b){c(b);f.call(this,b)}}else d.menu&&d.menu.menu("destroy"),d.menu=null})();var f=function(){if(d.menu){var a=d.menu.children("div.menu-item:first");d.menu.children("div.menu-item").each(function(){if(b.extend({},b.parser.parseOptions(this),{selected:b(this).attr("selected")?!0:void 0}).selected)return a=b(this),!1});return d.menu.menu("getItem",a[0])}return null}();b(a).addClass("searchbox-f").textbox(b.extend({},e,{icons:g,buttonText:f?f.text:""}));b(a).attr("searchboxName",b(a).attr("textboxName"));d.searchbox=b(a).next();d.searchbox.addClass("searchbox");c(f)}b.fn.searchbox=function(a,c){if("string"==typeof a){var d=b.fn.searchbox.methods[a];return d?d(this,c):this.textbox(a,c)}a=a||{};return this.each(function(){var c=b.data(this,"searchbox");c?b.extend(c.options,a):b.data(this,"searchbox",{options:b.extend({},b.fn.searchbox.defaults,b.fn.searchbox.parseOptions(this),a)});h(this)})};b.fn.searchbox.methods={options:function(a){var c=a.textbox("options");return b.extend(b.data(a[0],"searchbox").options,{width:c.width,value:c.value,originalValue:c.originalValue,disabled:c.disabled,readonly:c.readonly})},menu:function(a){return b.data(a[0],"searchbox").menu},getName:function(a){return b.data(a[0],"searchbox").searchbox.find("input.textbox-value").attr("name")},selectName:function(a,c){return a.each(function(){var a=b.data(this,"searchbox").menu;a&&a.children("div.menu-item").each(function(){if(a.menu("getItem",this).name==c)return b(this).triggerHandler("click"),!1})})},destroy:function(a){return a.each(function(){var a=b(this).searchbox("menu");a&&a.menu("destroy");b(this).textbox("destroy")})}};b.fn.searchbox.parseOptions=function(a){var c=b(a);return b.extend({},b.fn.textbox.parseOptions(a),b.parser.parseOptions(a,["menu"]),{searcher:c.attr("searcher")?eval(c.attr("searcher")):void 0})};b.fn.searchbox.defaults=b.extend({},b.fn.textbox.defaults,{inputEvents:b.extend({},b.fn.textbox.defaults.inputEvents,{keydown:function(a){if(13==a.keyCode){a.preventDefault();var c=b(a.data.target),d=c.searchbox("options");c.searchbox("setValue",b(this).val());d.searcher.call(a.data.target,c.searchbox("getValue"),c.searchbox("getName"));return!1}}}),buttonAlign:"left",menu:null,searcher:function(a,b){}})})(jQuery);