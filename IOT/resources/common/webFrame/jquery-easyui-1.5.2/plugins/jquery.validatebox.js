/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(c){function k(a){var b=c.data(a,"validatebox").options;c(a).unbind(".validatebox");if(!b.novalidate&&!b.disabled)for(var d in b.events)c(a).bind(d+".validatebox",{target:a},b.events[d])}function e(a){function b(b,c){var e=f.val(a),g=/([a-zA-Z_]+)(.*)/.exec(b),h=f.rules[g[1]];if(h&&e&&(g=c||f.validParams||eval(g[2]),!h.validator.call(a,e,g))){e=h.message;if(g)for(h=0;h<g.length;h++)e=e.replace(new RegExp("\\{"+h+"\\}","g"),g[h]);d.message=f.invalidMessage||e;return!1}return!0}var d=c.data(a,"validatebox"),f=d.options,g=c(a);f.onBeforeValidate.call(a);var e=function(){d.message="";if(!f._validateOnCreate)return setTimeout(function(){f._validateOnCreate=!0},0),!0;if(f.novalidate||f.disabled)return!0;if(f.required&&""==f.val(a))return d.message=f.missingMessage,!1;if(f.validType)if(c.isArray(f.validType))for(var e=0;e<f.validType.length;e++){if(!b(f.validType[e]))return!1}else if("string"==typeof f.validType){if(!b(f.validType))return!1}else for(e in f.validType)if(!b(e,f.validType[e]))return!1;return!0}();e?g.removeClass("validatebox-invalid"):g.addClass("validatebox-invalid");f.err(a,d.message);f.onValidate.call(a,e);return e}function l(a,b){var d=c.data(a,"validatebox").options;void 0!=b&&(d.disabled=b);d.disabled?c(a).addClass("validatebox-disabled").attr("disabled","disabled"):c(a).removeClass("validatebox-disabled").removeAttr("disabled")}function m(a,b){var d=c.data(a,"validatebox").options;d.readonly=void 0==b?!0:b;d.readonly||!d.editable?(c(a).triggerHandler("blur.validatebox"),c(a).addClass("validatebox-readonly").attr("readonly","readonly")):c(a).removeClass("validatebox-readonly").removeAttr("readonly")}c.fn.validatebox=function(a,b){if("string"==typeof a)return c.fn.validatebox.methods[a](this,b);a=a||{};return this.each(function(){var b=c.data(this,"validatebox");b?c.extend(b.options,a):(c(this).addClass("validatebox-text"),b=c.data(this,"validatebox",{options:c.extend({},c.fn.validatebox.defaults,c.fn.validatebox.parseOptions(this),a)}));b.options._validateOnCreate=b.options.validateOnCreate;l(this,b.options.disabled);m(this,b.options.readonly);k(this);e(this)})};c.fn.validatebox.methods={options:function(a){return c.data(a[0],"validatebox").options},destroy:function(a){return a.each(function(){var a=c.data(this,"validatebox");a.validating=!1;a.vtimer&&clearTimeout(a.vtimer);a.ftimer&&clearTimeout(a.ftimer);c(this).tooltip("destroy");c(this).unbind();c(this).remove()})},validate:function(a){return a.each(function(){e(this)})},isValid:function(a){return e(a[0])},enableValidation:function(a){return a.each(function(){c(this).validatebox("options").novalidate=!1;k(this);e(this)})},disableValidation:function(a){return a.each(function(){c(this).validatebox("options").novalidate=!0;k(this);e(this)})},resetValidation:function(a){return a.each(function(){var a=c(this).validatebox("options");a._validateOnCreate=a.validateOnCreate;e(this)})},enable:function(a){return a.each(function(){l(this,!1);k(this);e(this)})},disable:function(a){return a.each(function(){l(this,!0);k(this);e(this)})},readonly:function(a,b){return a.each(function(){m(this,b);k(this);e(this)})}};c.fn.validatebox.parseOptions=function(a){var b=c(a);return c.extend({},c.parser.parseOptions(a,["validType","missingMessage","invalidMessage","tipPosition",{delay:"number",interval:"number",deltaX:"number"},{editable:"boolean",validateOnCreate:"boolean",validateOnBlur:"boolean"}]),{required:b.attr("required")?!0:void 0,disabled:b.attr("disabled")?!0:void 0,readonly:b.attr("readonly")?!0:void 0,novalidate:void 0!=b.attr("novalidate")?!0:void 0})};c.fn.validatebox.defaults={required:!1,validType:null,validParams:null,delay:200,interval:200,missingMessage:"This field is required.",invalidMessage:null,tipPosition:"right",deltaX:0,deltaY:0,novalidate:!1,editable:!0,disabled:!1,readonly:!1,validateOnCreate:!0,validateOnBlur:!1,events:{focus:function(a){var b=a.data.target,d=c.data(b,"validatebox"),f=d.options;c(b).attr("readonly")||(d.validating=!0,d.value=f.val(b),function(){c(b).is(":visible")||(d.validating=!1);if(d.validating){var a=f.val(b);d.value!=a?(d.value=a,d.vtimer&&clearTimeout(d.vtimer),d.vtimer=setTimeout(function(){c(b).validatebox("validate")},f.delay)):d.message&&f.err(b,d.message);d.ftimer=setTimeout(arguments.callee,f.interval)}}())},blur:function(a){var b=a.data.target;a=c.data(b,"validatebox");var d=a.options;a.validating=!1;a.vtimer&&(clearTimeout(a.vtimer),a.vtimer=void 0);a.ftimer&&(clearTimeout(a.ftimer),a.ftimer=void 0);d.validateOnBlur&&setTimeout(function(){c(b).validatebox("validate")},0);d.err(b,a.message,"hide")},mouseenter:function(a){a=a.data.target;var b=c.data(a,"validatebox");b.options.err(a,b.message,"show")},mouseleave:function(a){a=a.data.target;var b=c.data(a,"validatebox");b.validating||b.options.err(a,b.message,"hide")},click:function(a){a=c(a.data.target);"checkbox"!=a.attr("type")&&"radio"!=a.attr("type")||a.focus().validatebox("validate")}},val:function(a){return c(a).val()},err:function(a,b,d){var f=c.data(a,"validatebox"),e=f.options;a=c(a);"hide"!=d&&b?(a.is(":focus")&&f.validating||"show"==d)&&a.tooltip(c.extend({},e.tipOptions,{content:b,position:e.tipPosition,deltaX:e.deltaX,deltaY:e.deltaY})).tooltip("show"):a.tooltip("hide")},tipOptions:{showEvent:"none",hideEvent:"none",showDelay:0,hideDelay:0,zIndex:"",onShow:function(){c(this).tooltip("tip").css({color:"#000",borderColor:"#CC9933",backgroundColor:"#FFFFCC"})},onHide:function(){c(this).tooltip("destroy")}},rules:{email:{validator:function(a){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},message:"Please enter a valid email address."},url:{validator:function(a){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},message:"Please enter a valid URL."},length:{validator:function(a,b){var d=c.trim(a).length;return d>=b[0]&&d<=b[1]},message:"Please enter a value between {0} and {1}."},remote:{validator:function(a,b){var d={};d[b[1]]=a;return"true"==c.ajax({url:b[0],dataType:"json",data:d,async:!1,cache:!1,type:"post"}).responseText},message:"Please fix this field."}},onBeforeValidate:function(){},onValidate:function(a){}}})(jQuery);