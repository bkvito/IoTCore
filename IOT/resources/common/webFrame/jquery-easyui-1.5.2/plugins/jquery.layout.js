/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(d){function m(c,a){function b(c,d){if(c.length&&n(c)){var a=c.panel("options");c.panel("resize",{width:g.width(),height:a.height});var b=c.panel("panel").outerHeight();c.panel("move",{left:0,top:"n"==d?0:g.height()-b});e.height-=b;"n"==d&&(e.top+=b,!a.split&&a.border&&e.top--);!a.split&&a.border&&e.height++}}function h(c,a){if(c.length&&n(c)){var d=c.panel("options");c.panel("resize",{width:d.width,height:e.height});var b=c.panel("panel").outerWidth();c.panel("move",{left:"e"==a?g.width()-b:0,top:e.top});e.width-=b;"w"==a&&(e.left+=b,!d.split&&d.border&&e.left--);!d.split&&d.border&&e.width++}}var f=d.data(c,"layout"),k=f.options,f=f.panels,g=d(c);a&&d.extend(k,{width:a.width,height:a.height});"body"==c.tagName.toLowerCase()?g._size("fit"):g._size(k);var e={top:0,left:0,width:g.width(),height:g.height()};b(n(f.expandNorth)?f.expandNorth:f.north,"n");b(n(f.expandSouth)?f.expandSouth:f.south,"s");h(n(f.expandEast)?f.expandEast:f.east,"e");h(n(f.expandWest)?f.expandWest:f.west,"w");f.center.panel("resize",e)}function x(c){var a=d(c);a.addClass("layout");var b=a.layout("options"),h=b.onAdd;b.onAdd=function(){};a.find("\x3ediv,\x3eform\x3ediv").each(function(){var a=d.fn.layout.parsePanelOptions(this);0<="north,south,east,west,center".indexOf(a.region)&&v(c,a,this)});b.onAdd=h;a.append('\x3cdiv class\x3d"layout-split-proxy-h"\x3e\x3c/div\x3e\x3cdiv class\x3d"layout-split-proxy-v"\x3e\x3c/div\x3e');a.bind("_resize",function(a,b){(d(this).hasClass("easyui-fluid")||b)&&m(c);return!1})}function v(c,a,b){function h(a){var e="expand"+g.substring(0,1).toUpperCase()+g.substring(1),b=f.center,k="north"==g||"south"==g?"minHeight":"minWidth",h="north"==g||"south"==g?"maxHeight":"maxWidth",q="north"==g||"south"==g?"_outerHeight":"_outerWidth",h=d.parser.parseValue(h,f[g].panel("options")[h],d(c)),k=d.parser.parseValue(k,b.panel("options")[k],d(c)),b=b.panel("panel")[q]()-k,b=n(f[e])?b+(f[e][q]()-1):b+d(a)[q]();b>h&&(b=h);return b}a.region=a.region||"center";var f=d.data(c,"layout").panels,k=d(c),g=a.region;if(!f[g].length){var e=d(b);e.length||(e=d("\x3cdiv\x3e\x3c/div\x3e").appendTo(k));b=d.extend({},d.fn.layout.paneldefaults,{width:e.length?parseInt(e[0].style.width)||e.outerWidth():"auto",height:e.length?parseInt(e[0].style.height)||e.outerHeight():"auto",doSize:!1,collapsible:!0,onOpen:function(){var a=d(this).panel("header").children("div.panel-tool");a.children("a.panel-tool-collapse").hide();var b={north:"up",south:"down",east:"right",west:"left"};if(b[g]){var b="layout-button-"+b[g],e=a.children("a."+b);e.length||(e=d('\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e').addClass(b).appendTo(a),e.bind("click",{dir:g},function(a){p(c,a.data.dir);return!1}));d(this).panel("options").collapsible?e.show():e.hide()}}},a,{cls:(a.cls||"")+" layout-panel layout-panel-"+g,bodyCls:(a.bodyCls||"")+" layout-body"});e.panel(b);f[g]=e;var l=e.panel("panel");e.panel("options").split&&l.addClass("layout-split-"+g);l.resizable(d.extend({},{handles:{north:"s",south:"n",east:"w",west:"e"}[g]||"",disabled:!e.panel("options").split,onStartResize:function(a){t=!0;a="north"==g||"south"==g?d("\x3ediv.layout-split-proxy-v",c):d("\x3ediv.layout-split-proxy-h",c);var b={display:"block"};"north"==g?(b.top=parseInt(l.css("top"))+l.outerHeight()-a.height(),b.left=parseInt(l.css("left")),b.width=l.outerWidth(),b.height=a.height()):"south"==g?(b.top=parseInt(l.css("top")),b.left=parseInt(l.css("left")),b.width=l.outerWidth(),b.height=a.height()):"east"==g?(b.top=parseInt(l.css("top"))||0,b.left=parseInt(l.css("left"))||0,b.width=a.width(),b.height=l.outerHeight()):"west"==g&&(b.top=parseInt(l.css("top"))||0,b.left=l.outerWidth()-a.width(),b.width=a.width(),b.height=l.outerHeight());a.css(b);d('\x3cdiv class\x3d"layout-mask"\x3e\x3c/div\x3e').css({left:0,top:0,width:k.width(),height:k.height()}).appendTo(k)},onResize:function(a){if("north"==g||"south"==g){var b=h(this);d(this).resizable("options").maxHeight=b;b=d("\x3ediv.layout-split-proxy-v",c);a="north"==g?a.data.height-b.height():d(c).height()-a.data.height;b.css("top",a)}else b=h(this),d(this).resizable("options").maxWidth=b,b=d("\x3ediv.layout-split-proxy-h",c),a="west"==g?a.data.width-b.width():d(c).width()-a.data.width,b.css("left",a);return!1},onStopResize:function(a){k.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide();e.panel("resize",a.data);m(c);t=!1;k.find("\x3ediv.layout-mask").remove()}},a));k.layout("options").onAdd.call(c,g)}}function p(c,a,b){function h(b){var g="north"==e.region||"south"==e.region,k="layout-button-"+{east:"left",west:"right",north:"down",south:"up"}[b],f=d("\x3cdiv\x3e\x3c/div\x3e").appendTo(c);f.panel(d.extend({},d.fn.layout.paneldefaults,{cls:"layout-expand layout-expand-"+b,title:"\x26nbsp;",titleDirection:e.titleDirection,iconCls:e.hideCollapsedContent?null:e.iconCls,closed:!0,minWidth:0,minHeight:0,doSize:!1,region:e.region,collapsedSize:e.collapsedSize,noheader:!g&&e.hideExpandTool,tools:g&&e.hideExpandTool?null:[{iconCls:k,handler:function(){u(c,a);return!1}}],onResize:function(){var a=d(this).children(".layout-expand-title");if(a.length){a._outerWidth(d(this).height());var b=(d(this).width()-Math.min(a._outerWidth(),a._outerHeight()))/2,c=Math.max(a._outerWidth(),a._outerHeight());a.hasClass("layout-expand-title-down")&&(b+=Math.min(a._outerWidth(),a._outerHeight()),c=0);a.css({left:b+"px",top:c+"px"})}}}));e.hideCollapsedContent||(b="function"==typeof e.collapsedContent?e.collapsedContent.call(f[0],e.title):e.collapsedContent,g?f.panel("setTitle",b):f.html(b));f.panel("panel").hover(function(){d(this).addClass("layout-expand-over")},function(){d(this).removeClass("layout-expand-over")});return f}function f(){var b=d(c),f=k.center.panel("options"),h=e.collapsedSize;if("east"==a){var l=g.panel("panel")._outerWidth(),m=f.width+l-h;!e.split&&e.border||m++;return{resizeC:{width:m},expand:{left:b.width()-l},expandP:{top:f.top,left:b.width()-h,width:h,height:f.height},collapse:{left:b.width(),top:f.top,height:f.height}}}if("west"==a)return l=g.panel("panel")._outerWidth(),m=f.width+l-h,!e.split&&e.border||m++,{resizeC:{width:m,left:h-1},expand:{left:0},expandP:{left:0,top:f.top,width:h,height:f.height},collapse:{left:-l,top:f.top,height:f.height}};if("north"==a)return l=g.panel("panel")._outerHeight(),f=f.height,n(k.expandNorth)||(f+=l-h+(e.split||!e.border?1:0)),k.east.add(k.west).add(k.expandEast).add(k.expandWest).panel("resize",{top:h-1,height:f}),{resizeC:{top:h-1,height:f},expand:{top:0},expandP:{top:0,left:0,width:b.width(),height:h},collapse:{top:-l,width:b.width()}};if("south"==a)return l=g.panel("panel")._outerHeight(),f=f.height,n(k.expandSouth)||(f+=l-h+(e.split||!e.border?1:0)),k.east.add(k.west).add(k.expandEast).add(k.expandWest).panel("resize",{height:f}),{resizeC:{height:f},expand:{top:b.height()-l},expandP:{top:b.height()-h,left:0,width:b.width(),height:h},collapse:{top:b.height(),width:b.width()}}}void 0==b&&(b="normal");var k=d.data(c,"layout").panels,g=k[a],e=g.panel("options");if(0!=e.onBeforeCollapse.call(g)){var l="expand"+a.substring(0,1).toUpperCase()+a.substring(1);if(!k[l]){k[l]=h(a);var m=k[l].panel("panel");e.expandMode?m.bind("click",function(){if("dock"==e.expandMode)u(c,a);else{g.panel("expand",!1).panel("open");var b=f();g.panel("resize",b.collapse);g.panel("panel").animate(b.expand,function(){d(this).unbind(".layout").bind("mouseleave.layout",{region:a},function(a){1!=t&&(d("body\x3ediv.combo-p\x3ediv.combo-panel:visible").length||p(c,a.data.region))});d(c).layout("options").onExpand.call(c,a)})}return!1}):m.css("cursor","default")}var r=f();n(k[l])||k.center.panel("resize",r.resizeC);g.panel("panel").animate(r.collapse,b,function(){g.panel("collapse",!1).panel("close");k[l].panel("open").panel("resize",r.expandP);d(this).unbind(".layout");d(c).layout("options").onCollapse.call(c,a)})}}function u(c,a){function b(){var b=d(c),e=h.center.panel("options");if("east"==a&&h.expandEast)return{collapse:{left:b.width(),top:e.top,height:e.height},expand:{left:b.width()-f.panel("panel")._outerWidth()}};if("west"==a&&h.expandWest)return{collapse:{left:-f.panel("panel")._outerWidth(),top:e.top,height:e.height},expand:{left:0}};if("north"==a&&h.expandNorth)return{collapse:{top:-f.panel("panel")._outerHeight(),width:b.width()},expand:{top:0}};if("south"==a&&h.expandSouth)return{collapse:{top:b.height(),width:b.width()},expand:{top:b.height()-f.panel("panel")._outerHeight()}}}var h=d.data(c,"layout").panels,f=h[a];if(0!=f.panel("options").onBeforeExpand.call(f)){var k="expand"+a.substring(0,1).toUpperCase()+a.substring(1);h[k]&&(h[k].panel("close"),f.panel("panel").stop(!0,!0),f.panel("expand",!1).panel("open"),k=b(),f.panel("resize",k.collapse),f.panel("panel").animate(k.expand,function(){m(c);d(c).layout("options").onExpand.call(c,a)}))}}function n(c){return c?c.length?c.panel("panel").is(":visible"):!1:!1}function y(c){function a(a){var b=f[a];b.length&&b.panel("options").collapsed&&p(c,a,0)}var b=d.data(c,"layout"),h=b.options,f=b.panels,b=h.onCollapse;h.onCollapse=function(){};a("east");a("west");a("north");a("south");h.onCollapse=b}function w(c,a,b){var h=d(c).layout("panel",a);h.panel("options").split=b;a="layout-split-"+a;h=h.panel("panel").removeClass(a);b&&h.addClass(a);h.resizable({disabled:!b});m(c)}var t=!1;d.fn.layout=function(c,a){if("string"==typeof c)return d.fn.layout.methods[c](this,a);c=c||{};return this.each(function(){var a=d.data(this,"layout");a?d.extend(a.options,c):(a=d.extend({},d.fn.layout.defaults,d.fn.layout.parseOptions(this),c),d.data(this,"layout",{options:a,panels:{center:d(),north:d(),south:d(),east:d(),west:d()}}),x(this));m(this);y(this)})};d.fn.layout.methods={options:function(c){return d.data(c[0],"layout").options},resize:function(c,a){return c.each(function(){m(this,a)})},panel:function(c,a){return d.data(c[0],"layout").panels[a]},collapse:function(c,a){return c.each(function(){p(this,a)})},expand:function(c,a){return c.each(function(){u(this,a)})},add:function(c,a){return c.each(function(){v(this,a);m(this);d(this).layout("panel",a.region).panel("options").collapsed&&p(this,a.region,0)})},remove:function(c,a){return c.each(function(){var b=d.data(this,"layout").panels;if(b[a].length){b[a].panel("destroy");b[a]=d();var c="expand"+a.substring(0,1).toUpperCase()+a.substring(1);b[c]&&(b[c].panel("destroy"),b[c]=void 0);d(this).layout("options").onRemove.call(this,a)}m(this)})},split:function(c,a){return c.each(function(){w(this,a,!0)})},unsplit:function(c,a){return c.each(function(){w(this,a,!1)})}};d.fn.layout.parseOptions=function(c){return d.extend({},d.parser.parseOptions(c,[{fit:"boolean"}]))};d.fn.layout.defaults={fit:!1,onExpand:function(c){},onCollapse:function(c){},onAdd:function(c){},onRemove:function(c){}};d.fn.layout.parsePanelOptions=function(c){d(c);return d.extend({},d.fn.panel.parseOptions(c),d.parser.parseOptions(c,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))};d.fn.layout.paneldefaults=d.extend({},d.fn.panel.defaults,{region:null,split:!1,collapsedSize:28,expandMode:"float",hideExpandTool:!1,hideCollapsedContent:!0,collapsedContent:function(c){var a=d(this).panel("options");if("north"==a.region||"south"==a.region)return c;var b=[];a.iconCls&&b.push('\x3cdiv class\x3d"panel-icon '+a.iconCls+'"\x3e\x3c/div\x3e');b.push('\x3cdiv class\x3d"panel-title layout-expand-title');b.push(" layout-expand-title-"+a.titleDirection);b.push(a.iconCls?" layout-expand-with-icon":"");b.push('"\x3e');b.push(c);b.push("\x3c/div\x3e");return b.join("")},minWidth:10,minHeight:10,maxWidth:1E4,maxHeight:1E4})})(jQuery);