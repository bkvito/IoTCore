/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(c){function m(a,d){var e=c.data(a,"panel"),b=e.options,e=e.panel,f=e.children(".panel-header"),g=e.children(".panel-body"),h=e.children(".panel-footer"),n="left"==b.halign||"right"==b.halign;d&&c.extend(b,{width:d.width,height:d.height,minWidth:d.minWidth,maxWidth:d.maxWidth,minHeight:d.minHeight,maxHeight:d.maxHeight,left:d.left,top:d.top});e._size(b);n||f._outerWidth(e.width());g._outerWidth(e.width());if(isNaN(parseInt(b.height))){g.css("height","");var k=c.parser.parseValue("minHeight",b.minHeight,e.parent()),l=c.parser.parseValue("maxHeight",b.maxHeight,e.parent()),f=f._outerHeight()+h._outerHeight()+e._outerHeight()-e.height();g._size("minHeight",k?k-f:"");g._size("maxHeight",l?l-f:"")}else if(n){b.header?k=c(b.header)._outerWidth():(f.css("width",""),k=f._outerWidth());var l=f.find(".panel-title"),k=k+Math.min(l._outerWidth(),l._outerHeight()),q=e.height();f._outerWidth(k)._outerHeight(q);l._outerWidth(f.height());g._outerWidth(e.width()-k-h._outerWidth())._outerHeight(q);h._outerHeight(q);g.css({left:"",right:""}).css(b.halign,f.position()[b.halign]+k+"px");b.panelCssWidth=e.css("width");b.collapsed&&e._outerWidth(k+h._outerWidth())}else g._outerHeight(e.height()-f._outerHeight()-h._outerHeight());e.css({height:n?void 0:"",minHeight:"",maxHeight:"",left:b.left,top:b.top});b.onResize.apply(a,[b.width,b.height]);c(a).panel("doLayout")}function A(a,d){var e=c.data(a,"panel"),b=e.options,e=e.panel;d&&(null!=d.left&&(b.left=d.left),null!=d.top&&(b.top=d.top));e.css({left:b.left,top:b.top});e.find(".tooltip-f").each(function(){c(this).tooltip("reposition")});b.onMove.apply(a,[b.left,b.top])}function B(a){c(a).addClass("panel-body")._size("clear");var d=c('\x3cdiv class\x3d"panel"\x3e\x3c/div\x3e').insertBefore(a);d[0].appendChild(a);d.bind("_resize",function(d,b){(c(this).hasClass("easyui-fluid")||b)&&m(a);return!1});return d}function C(a){function d(a,b,d){c('\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e').addClass(b).appendTo(a).bind("click",d)}var e=c.data(a,"panel"),b=e.options,f=e.panel;f.css(b.style);f.addClass(b.cls);f.removeClass("panel-hleft panel-hright").addClass("panel-h"+b.halign);(function(){if(b.noheader||!b.title&&!b.header)f.children(".panel-header")._remove(),f.children(".panel-body").addClass("panel-body-noheader");else{if(b.header)c(b.header).addClass("panel-header").prependTo(f);else{var e=f.children(".panel-header");e.length||(e=c('\x3cdiv class\x3d"panel-header"\x3e\x3c/div\x3e').prependTo(f));c.isArray(b.tools)||e.find("div.panel-tool .panel-tool-a").appendTo(b.tools);e.empty();var g=c('\x3cdiv class\x3d"panel-title"\x3e\x3c/div\x3e').html(b.title).appendTo(e);b.iconCls&&(g.addClass("panel-with-icon"),c('\x3cdiv class\x3d"panel-icon"\x3e\x3c/div\x3e').addClass(b.iconCls).appendTo(e));"left"!=b.halign&&"right"!=b.halign||g.addClass("panel-title-"+b.titleDirection);var h=c('\x3cdiv class\x3d"panel-tool"\x3e\x3c/div\x3e').appendTo(e);h.bind("click",function(a){a.stopPropagation()});b.tools&&(c.isArray(b.tools)?c.map(b.tools,function(a){d(h,a.iconCls,eval(a.handler))}):c(b.tools).children().each(function(){c(this).addClass(c(this).attr("iconCls")).addClass("panel-tool-a").appendTo(h)}));b.collapsible&&d(h,"panel-tool-collapse",function(){1==b.collapsed?v(a,!0):r(a,!0)});b.minimizable&&d(h,"panel-tool-min",function(){w(a)});b.maximizable&&d(h,"panel-tool-max",function(){1==b.maximized?x(a):t(a)});b.closable&&d(h,"panel-tool-close",function(){y(a)})}f.children("div.panel-body").removeClass("panel-body-noheader")}})();b.footer?(c(b.footer).addClass("panel-footer").appendTo(f),c(a).addClass("panel-body-nobottom")):(f.children(".panel-footer").remove(),c(a).removeClass("panel-body-nobottom"));var e=c(a).panel("header"),g=c(a).panel("body"),h=c(a).siblings(".panel-footer");b.border?(e.removeClass("panel-header-noborder"),g.removeClass("panel-body-noborder"),h.removeClass("panel-footer-noborder")):(e.addClass("panel-header-noborder"),g.addClass("panel-body-noborder"),h.addClass("panel-footer-noborder"));e.addClass(b.headerCls);g.addClass(b.bodyCls);c(a).attr("id",b.id||"");b.content&&(c(a).panel("clear"),c(a).html(b.content),c.parser.parse(c(a)))}function u(a,d){var e=c.data(a,"panel"),b=e.options;f&&(b.queryParams=d);if(b.href&&(!e.isLoaded||!b.cache)){var f=c.extend({},b.queryParams);0!=b.onBeforeLoad.call(a,f)&&(e.isLoaded=!1,b.loadingMessage&&(c(a).panel("clear"),c(a).html(c('\x3cdiv class\x3d"panel-loading"\x3e\x3c/div\x3e').html(b.loadingMessage))),b.loader.call(a,f,function(d){var f=b.extractor.call(a,d);c(a).panel("clear");c(a).html(f);c.parser.parse(c(a));b.onLoad.apply(a,arguments);e.isLoaded=!0},function(){b.onLoadError.apply(a,arguments)}))}}function D(a){a=c(a);a.find(".combo-f").each(function(){c(this).combo("destroy")});a.find(".m-btn").each(function(){c(this).menubutton("destroy")});a.find(".s-btn").each(function(){c(this).splitbutton("destroy")});a.find(".tooltip-f").each(function(){c(this).tooltip("destroy")});a.children("div").each(function(){c(this)._size("unfit")});a.empty()}function z(a,d){function e(){b.closed=!1;b.minimized=!1;f.children(".panel-header").find("a.panel-tool-restore").length&&(b.maximized=!0);b.onOpen.call(a);1==b.maximized&&(b.maximized=!1,t(a));1==b.collapsed&&(b.collapsed=!1,r(a));b.collapsed||(u(a),c(a).panel("doLayout",!0))}var b=c.data(a,"panel").options,f=c.data(a,"panel").panel;if(1==d||0!=b.onBeforeOpen.call(a))if(f.stop(!0,!0),c.isFunction(b.openAnimation))b.openAnimation.call(a,e);else switch(b.openAnimation){case "slide":f.slideDown(b.openDuration,e);break;case "fade":f.fadeIn(b.openDuration,e);break;case "show":f.show(b.openDuration,e);break;default:f.show(),e()}}function y(a,d){function e(){f.closed=!0;f.onClose.call(a)}var b=c.data(a,"panel"),f=b.options,b=b.panel;if(1==d||0!=f.onBeforeClose.call(a))if(b.find(".tooltip-f").each(function(){c(this).tooltip("hide")}),b.stop(!0,!0),b._size("unfit"),c.isFunction(f.closeAnimation))f.closeAnimation.call(a,e);else switch(f.closeAnimation){case "slide":b.slideUp(f.closeDuration,e);break;case "fade":b.fadeOut(f.closeDuration,e);break;case "hide":b.hide(f.closeDuration,e);break;default:b.hide(),e()}}function r(a,d){function e(){g.hide();b.collapsed=!0;b.onCollapse.call(a)}var b=c.data(a,"panel").options,f=c.data(a,"panel").panel,g=f.children(".panel-body"),h=f.children(".panel-header"),n=h.find("a.panel-tool-collapse");1!=b.collapsed&&(g.stop(!0,!0),0!=b.onBeforeCollapse.call(a)&&(n.addClass("panel-tool-expand"),1==d?"left"==b.halign||"right"==b.halign?f.animate({width:h._outerWidth()+f.children(".panel-footer")._outerWidth()},function(){e()}):g.slideUp("normal",function(){e()}):("left"!=b.halign&&"right"!=b.halign||f._outerWidth(h._outerWidth()+f.children(".panel-footer")._outerWidth()),e())))}function v(a,d){function e(){g.show();b.collapsed=!1;b.onExpand.call(a);u(a);c(a).panel("doLayout",!0)}var b=c.data(a,"panel").options,f=c.data(a,"panel").panel,g=f.children(".panel-body"),h=f.children(".panel-header").find("a.panel-tool-collapse");0!=b.collapsed&&(g.stop(!0,!0),0!=b.onBeforeExpand.call(a)&&(h.removeClass("panel-tool-expand"),1==d?"left"==b.halign||"right"==b.halign?(g.show(),f.animate({width:b.panelCssWidth},function(){e()})):g.slideDown("normal",function(){e()}):("left"!=b.halign&&"right"!=b.halign||f.css("width",b.panelCssWidth),e())))}function t(a){var d=c.data(a,"panel").options,e=c.data(a,"panel").panel.children(".panel-header").find("a.panel-tool-max");1!=d.maximized&&(e.addClass("panel-tool-restore"),c.data(a,"panel").original||(c.data(a,"panel").original={width:d.width,height:d.height,left:d.left,top:d.top,fit:d.fit}),d.left=0,d.top=0,d.fit=!0,m(a),d.minimized=!1,d.maximized=!0,d.onMaximize.call(a))}function w(a){var d=c.data(a,"panel").options,e=c.data(a,"panel").panel;e._size("unfit");e.hide();d.minimized=!0;d.maximized=!1;d.onMinimize.call(a)}function x(a){var d=c.data(a,"panel").options,e=c.data(a,"panel").panel,b=e.children(".panel-header").find("a.panel-tool-max");0!=d.maximized&&(e.show(),b.removeClass("panel-tool-restore"),c.extend(d,c.data(a,"panel").original),m(a),d.minimized=!1,d.maximized=!1,c.data(a,"panel").original=null,d.onRestore.call(a))}c.fn._remove=function(){return this.each(function(){c(this).remove();try{this.outerHTML=""}catch(a){}})};var p=null;c(window).unbind(".panel").bind("resize.panel",function(){p&&clearTimeout(p);p=setTimeout(function(){var a=c("body.layout");a.length?(a.layout("resize"),c("body").children(".easyui-fluid:visible").each(function(){c(this).triggerHandler("_resize")})):c("body").panel("doLayout");p=null},100)});c.fn.panel=function(a,d){if("string"==typeof a)return c.fn.panel.methods[a](this,d);a=a||{};return this.each(function(){var d=c.data(this,"panel"),b;d?(b=c.extend(d.options,a),d.isLoaded=!1):(b=c.extend({},c.fn.panel.defaults,c.fn.panel.parseOptions(this),a),c(this).attr("title",""),d=c.data(this,"panel",{options:b,panel:B(this),isLoaded:!1}));C(this);c(this).show();1==b.doSize&&(d.panel.css("display","block"),m(this));1==b.closed||1==b.minimized?d.panel.hide():z(this)})};c.fn.panel.methods={options:function(a){return c.data(a[0],"panel").options},panel:function(a){return c.data(a[0],"panel").panel},header:function(a){return c.data(a[0],"panel").panel.children(".panel-header")},footer:function(a){return a.panel("panel").children(".panel-footer")},body:function(a){return c.data(a[0],"panel").panel.children(".panel-body")},setTitle:function(a,d){return a.each(function(){c.data(this,"panel").options.title=d;c(this).panel("header").find("div.panel-title").html(d)})},open:function(a,c){return a.each(function(){z(this,c)})},close:function(a,c){return a.each(function(){y(this,c)})},destroy:function(a,d){return a.each(function(){var a=c.data(this,"panel"),b=a.options,a=a.panel;if(1==d||0!=b.onBeforeDestroy.call(this))c(this).panel("clear").panel("clear","footer"),a._remove(),b.onDestroy.call(this)})},clear:function(a,d){return a.each(function(){D("footer"==d?c(this).panel("footer"):this)})},refresh:function(a,d){return a.each(function(){var a=c.data(this,"panel");a.isLoaded=!1;d&&("string"==typeof d?a.options.href=d:a.options.queryParams=d);u(this)})},resize:function(a,c){return a.each(function(){m(this,c)})},doLayout:function(a,d){return a.each(function(){function a(a,e){if(a){var b=a==c("body")[0];c(a).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function(d,f){var g=c(f).parents(".panel-"+e+":first");return b?0==g.length:g[0]==a}).each(function(){c(this).triggerHandler("_resize",[d||!1])})}}a(this,"body");a(c(this).siblings(".panel-footer")[0],"footer")})},move:function(a,c){return a.each(function(){A(this,c)})},maximize:function(a){return a.each(function(){t(this)})},minimize:function(a){return a.each(function(){w(this)})},restore:function(a){return a.each(function(){x(this)})},collapse:function(a,c){return a.each(function(){r(this,c)})},expand:function(a,c){return a.each(function(){v(this,c)})}};c.fn.panel.parseOptions=function(a){var d=c(a),e=d.children(".panel-header,header"),b=d.children(".panel-footer,footer");return c.extend({},c.parser.parseOptions(a,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method","header","footer","halign","titleDirection",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"},"openAnimation","closeAnimation",{openDuration:"number",closeDuration:"number"}]),{loadingMessage:void 0!=d.attr("loadingMessage")?d.attr("loadingMessage"):void 0,header:e.length?e.removeClass("panel-header"):void 0,footer:b.length?b.removeClass("panel-footer"):void 0})};c.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,halign:"top",titleDirection:"down",collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,openAnimation:!1,openDuration:400,closeAnimation:!1,closeDuration:400,tools:null,footer:null,header:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(a,d,e){var b=c(this).panel("options");if(!b.href)return!1;c.ajax({type:b.method,url:b.href,cache:!1,data:a,dataType:"html",success:function(a){d(a)},error:function(){e.apply(this,arguments)}})},extractor:function(a){var c=/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(a);return c?c[1]:a},onBeforeLoad:function(a){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(a,c){},onMove:function(a,c){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}})(jQuery);