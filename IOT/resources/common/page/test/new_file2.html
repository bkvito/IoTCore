<!DOCTYPE html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
		<script src="/web3d/three/3dview/main-page/include/systemHeaderResponseJS.js"></script>
		<script>
			pageResponse("css","bootstrap335");
			pageResponse("css","fontAwesome");
			pageResponse("css","layui");
			pageResponse("css","accordionMenu");
			pageResponse("css","common");
			pageResponse("css","xydStyle");
			pageResponse("css","xSkin");
			pageResponse("css","jqueryCustomScrollbar");
			pageResponse("javascript","jquery183");
		</script>
		<!--[if lt IE 9]>
			<script>pageResponseie8service();</script>
		<![endif]-->
		<script>
			pageResponse("javascript","layui");
			pageResponse("javascript","xydPlus");
			pageResponse("javascript","artTemplate");
			pageResponse("javascript","xydWebFunction");
			pageResponse("javascript","xAttributeMenuTemplate");
			pageResponse("javascript","xModelSearchWindowTemplate");
			pageResponse("javascript","WdatePicker");
			pageResponse("javascript","accordionMenu");
			pageResponse("javascript","jqueryCustomScrollbar");
			pageResponse("javascript","webAnimations");
			pageResponse("javascript","animatelo");
		</script>
		<style>
			body{
				color: #000!important;
			}
			#box{
				width: 300px;
				height: 400px;
				border: 1px solid #FF0000;
				overflow: hidden;
				margin: 20px auto;
			}
			ul{
				width: 200px;
				/*height: 400px;*/
				margin: 20px auto;
			}
			li{
				border-bottom: 1px solid #ddd;
			}
		</style>
	</head>
		<center>
			<button id="add">增加</button>
			<button id="clear">清空</button>
			<button id="setHeight-200">改变高度200</button>
			<button id="setHeight-400">改变高度400</button>
			<button id="setHeight-600">改变高度600</button>
		</center>
		<div id="box">
			<ul id="test"></ul>
		</div>
		
		<script>
			(function($){
			$(document).ready(documentReady);
			
			function documentReady(){
				var _box = $("#box");
				var _dom = $("#test");
			    
				_box.mCustomScrollbar({
						theme: 'minimal-dark',
						scrollInertia: 100,
						axis: 'yx',
						mouseWheel: {
							enable: true,
							axis: 'y',
							preventDefault: true
						}
					});
				
				/**
				 * 修正mCustomScrollbar插件滚动条D致的bug
				 * @param {Object} element
				 */
				function GetHtmlObjectCustomScrollbar(element){
					return element.hasClass("mCustomScrollbar") ? element.find(".mCSB_container") : element;
				}
				
			
			    $("#add").on("click",function(){
			    	
			    //	var a = GetHtmlObjectCustomScrollbar(_dom);
			    	
			    	for(var i=0;i<100;i++){
						var _li = $("<li>"+i+"</li>");
						_dom.append(_li);
					}
			    	_box.mCustomScrollbar("update");
					
					
			    });
			    
			    $("#clear").on("click",function(){
			    	var a = GetHtmlObjectCustomScrollbar(_dom);
			    	a.empty();
			    	
			    	_dom.empty()
			    		.removeClass("mCustomScrollbar")
			    		.removeClass("_mCS_1")
			    		.removeClass("mCS-autoHide")
			    		.unbind();
			    	
			    	for(var i in _dom){
			    		if(i==="mCustomScrollbar"){
			    			console.info(i);
			    			console.info(_dom[i]);
			    		}
			    	}
			    	
			    	delete _dom["mCustomScrollbar"];
			    	
			    });
			    
			     $("#setHeight-200").on("click",function(){
			    	var a = GetHtmlObjectCustomScrollbar(_dom);
			    	_box.css({"height":"200px"});
			    	//_box.mCustomScrollbar("update");
			    });
			    
			     $("#setHeight-400").on("click",function(){
			    	var a = GetHtmlObjectCustomScrollbar(_dom);
			    	_box.css({"height":"400px"});
			    	//_box.mCustomScrollbar("update");
			    });
			    
			     $("#setHeight-600").on("click",function(){
			    	var a = GetHtmlObjectCustomScrollbar(_dom);
			    	_box.css({"height":"600px"});
			    	//_box.mCustomScrollbar("update");
			    });
			    
			}
		})(jQuery);

		</script>
	</body>
</html>
