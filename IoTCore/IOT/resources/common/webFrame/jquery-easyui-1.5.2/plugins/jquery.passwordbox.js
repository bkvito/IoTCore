/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(c){function l(a){var b=c.data(a,"passwordbox").options,g=c.extend(!0,[],b.icons);b.showEye&&g.push({iconCls:"passwordbox-open",handler:function(c){b.revealed=!b.revealed;d(a)}});c(a).addClass("passwordbox-f").textbox(c.extend({},b,{icons:g}));d(a)}function k(a,b,g){a=c(a);var e=a.passwordbox("options");if(e.revealed)a.textbox("setValue",b);else{e=unescape(e.passwordChar);b=b.split("");for(var h=a.passwordbox("getValue").split(""),f=0;f<b.length;f++){var d=b[f];d!=h[f]&&d!=e&&h.splice(f,0,d)}d=a.passwordbox("getSelectionStart");b.length<h.length&&h.splice(d,h.length-b.length,"");for(f=0;f<b.length;f++)if(g||f!=d-1)b[f]=e;a.textbox("setValue",h.join(""));a.textbox("setText",b.join(""));a.textbox("setSelectionRange",{start:d,end:d})}}function d(a,b){var g=c(a),e=g.passwordbox("options"),d=g.next().find(".passwordbox-open"),f=unescape(e.passwordChar);b=void 0==b?g.textbox("getValue"):b;g.textbox("setValue",b);g.textbox("setText",e.revealed?b:b.replace(/./ig,f));e.revealed?d.addClass("passwordbox-close"):d.removeClass("passwordbox-close")}c.fn.passwordbox=function(a,b){if("string"==typeof a){var d=c.fn.passwordbox.methods[a];return d?d(this,b):this.textbox(a,b)}a=a||{};return this.each(function(){var b=c.data(this,"passwordbox");b?c.extend(b.options,a):c.data(this,"passwordbox",{options:c.extend({},c.fn.passwordbox.defaults,c.fn.passwordbox.parseOptions(this),a)});l(this)})};c.fn.passwordbox.methods={options:function(a){return c.data(a[0],"passwordbox").options},setValue:function(a,b){return a.each(function(){d(this,b)})},clear:function(a){return a.each(function(){d(this,"")})},reset:function(a){return a.each(function(){c(this).textbox("reset");d(this)})},showPassword:function(a){return a.each(function(){c(this).passwordbox("options").revealed=!0;d(this)})},hidePassword:function(a){return a.each(function(){c(this).passwordbox("options").revealed=!1;d(this)})}};c.fn.passwordbox.parseOptions=function(a){return c.extend({},c.fn.textbox.parseOptions(a),c.parser.parseOptions(a,["passwordChar",{checkInterval:"number",lastDelay:"number",revealed:"boolean",showEye:"boolean"}]))};c.fn.passwordbox.defaults=c.extend({},c.fn.textbox.defaults,{passwordChar:"%u25CF",checkInterval:200,lastDelay:500,revealed:!1,showEye:!0,inputEvents:{focus:function(a){var b=a.data.target,d=c(a.data.target),e=d.data("passwordbox"),h=d.data("passwordbox").options;e.checking=!0;e.value=d.passwordbox("getText");(function(){if(e.checking){var a=d.passwordbox("getText");e.value!=a&&(e.value=a,e.lastTimer&&(clearTimeout(e.lastTimer),e.lastTimer=void 0),k(b,a),e.lastTimer=setTimeout(function(){k(b,d.passwordbox("getText"),!0);e.lastTimer=void 0},h.lastDelay));setTimeout(arguments.callee,h.checkInterval)}})()},blur:function(a){a=a.data.target;var b=c(a).data("passwordbox");b.checking=!1;b.lastTimer&&(clearTimeout(b.lastTimer),b.lastTimer=void 0);d(a)}},val:function(a){return c(a).parent().prev().passwordbox("getValue")}})})(jQuery);