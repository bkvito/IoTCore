/**
 * jQuery EasyUI 1.5.2
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
(function(b){function r(c){function h(a){var d=e.nav[a];a=b('\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e').appendTo(k);a.wrap("\x3ctd\x3e\x3c/td\x3e");a.linkbutton({iconCls:d.iconCls,plain:!0}).unbind(".pagination").bind("click.pagination",function(){d.handler.call(c)});return a}function d(a,c){var d=b.inArray(c,a);0<=d&&a.splice(d,1);return a}var a=b.data(c,"pagination"),e=a.options,f=a.bb={},g=b(c).addClass("pagination").html('\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/table\x3e'),k=g.find("tr"),l=b.extend([],e.layout);e.showPageList||d(l,"list");e.showPageInfo||d(l,"info");e.showRefresh||d(l,"refresh");"sep"==l[0]&&l.shift();"sep"==l[l.length-1]&&l.pop();for(var n=0;n<l.length;n++)if(a=l[n],"list"==a){var m=b('\x3cselect class\x3d"pagination-page-list"\x3e\x3c/select\x3e');m.bind("change",function(){e.pageSize=parseInt(b(this).val());e.onChangePageSize.call(c,e.pageSize);p(c,e.pageNumber)});for(a=0;a<e.pageList.length;a++)b("\x3coption\x3e\x3c/option\x3e").text(e.pageList[a]).appendTo(m);b("\x3ctd\x3e\x3c/td\x3e").append(m).appendTo(k)}else"sep"==a?b('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(k):"first"==a?f.first=h("first"):"prev"==a?f.prev=h("prev"):"next"==a?f.next=h("next"):"last"==a?f.last=h("last"):"manual"==a?(b('\x3cspan style\x3d"padding-left:6px;"\x3e\x3c/span\x3e').html(e.beforePageText).appendTo(k).wrap("\x3ctd\x3e\x3c/td\x3e"),f.num=b('\x3cinput class\x3d"pagination-num" type\x3d"text" value\x3d"1" size\x3d"2"\x3e').appendTo(k).wrap("\x3ctd\x3e\x3c/td\x3e"),f.num.unbind(".pagination").bind("keydown.pagination",function(a){if(13==a.keyCode)return a=parseInt(b(this).val())||1,p(c,a),!1}),f.after=b('\x3cspan style\x3d"padding-right:6px;"\x3e\x3c/span\x3e').appendTo(k).wrap("\x3ctd\x3e\x3c/td\x3e")):"refresh"==a?f.refresh=h("refresh"):"links"==a?b('\x3ctd class\x3d"pagination-links"\x3e\x3c/td\x3e').appendTo(k):"info"==a&&(n==l.length-1?(b('\x3cdiv class\x3d"pagination-info"\x3e\x3c/div\x3e').appendTo(g),b('\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e').appendTo(g)):b('\x3ctd\x3e\x3cdiv class\x3d"pagination-info"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(k));if(e.buttons)if(b('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(k),b.isArray(e.buttons))for(a=0;a<e.buttons.length;a++)f=e.buttons[a],"-"==f?b('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(k):(g=b("\x3ctd\x3e\x3c/td\x3e").appendTo(k),g=b('\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e').appendTo(g),g[0].onclick=eval(f.handler||function(){}),g.linkbutton(b.extend({},f,{plain:!0})));else g=b("\x3ctd\x3e\x3c/td\x3e").appendTo(k),b(e.buttons).appendTo(g).show()}function p(c,h){var d=b.data(c,"pagination").options;m(c,{pageNumber:h});d.onSelectPage.call(c,d.pageNumber,d.pageSize)}function m(c,h){var d=b.data(c,"pagination"),a=d.options,d=d.bb;b.extend(a,h||{});var e=b(c).find("select.pagination-page-list");e.length&&(e.val(a.pageSize+""),a.pageSize=parseInt(e.val()));e=Math.ceil(a.total/a.pageSize)||1;1>a.pageNumber&&(a.pageNumber=1);a.pageNumber>e&&(a.pageNumber=e);0==a.total&&(e=a.pageNumber=0);d.num&&d.num.val(a.pageNumber);d.after&&d.after.html(a.afterPageText.replace(/{pages}/,e));var f=b(c).find("td.pagination-links");if(f.length){f.empty();var g=a.pageNumber-Math.floor(a.links/2);1>g&&(g=1);var k=g+a.links-1;k>e&&(k=e);g=k-a.links+1;for(1>g&&(g=1);g<=k;g++){var l=b('\x3ca class\x3d"pagination-link" href\x3d"javascript:;"\x3e\x3c/a\x3e').appendTo(f);l.linkbutton({plain:!0,text:g});g==a.pageNumber?l.linkbutton("select"):l.unbind(".pagination").bind("click.pagination",{pageNumber:g},function(a){p(c,a.data.pageNumber)})}}f=a.displayMsg;f=f.replace(/{from}/,0==a.total?0:a.pageSize*(a.pageNumber-1)+1);f=f.replace(/{to}/,Math.min(a.pageSize*a.pageNumber,a.total));f=f.replace(/{total}/,a.total);b(c).find("div.pagination-info").html(f);d.first&&d.first.linkbutton({disabled:!a.total||1==a.pageNumber});d.prev&&d.prev.linkbutton({disabled:!a.total||1==a.pageNumber});d.next&&d.next.linkbutton({disabled:a.pageNumber==e});d.last&&d.last.linkbutton({disabled:a.pageNumber==e});q(c,a.loading)}function q(c,h){var d=b.data(c,"pagination"),a=d.options;a.loading=h;a.showRefresh&&d.bb.refresh&&d.bb.refresh.linkbutton({iconCls:a.loading?"pagination-loading":"pagination-load"})}b.fn.pagination=function(c,h){if("string"==typeof c)return b.fn.pagination.methods[c](this,h);c=c||{};return this.each(function(){var d;(d=b.data(this,"pagination"))?b.extend(d.options,c):(d=b.extend({},b.fn.pagination.defaults,b.fn.pagination.parseOptions(this),c),b.data(this,"pagination",{options:d}));r(this);m(this)})};b.fn.pagination.methods={options:function(c){return b.data(c[0],"pagination").options},loading:function(c){return c.each(function(){q(this,!0)})},loaded:function(c){return c.each(function(){q(this,!1)})},refresh:function(c,b){return c.each(function(){m(this,b)})},select:function(c,b){return c.each(function(){p(this,b)})}};b.fn.pagination.parseOptions=function(c){var h=b(c);return b.extend({},b.parser.parseOptions(c,[{total:"number",pageSize:"number",pageNumber:"number",links:"number"},{loading:"boolean",showPageList:"boolean",showPageInfo:"boolean",showRefresh:"boolean"}]),{pageList:h.attr("pageList")?eval(h.attr("pageList")):void 0})};b.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],loading:!1,buttons:null,showPageList:!0,showPageInfo:!0,showRefresh:!0,links:10,layout:"list sep first prev sep manual sep next last sep refresh info".split(" "),onSelectPage:function(c,b){},onBeforeRefresh:function(c,b){},onRefresh:function(b,h){},onChangePageSize:function(b){},beforePageText:"Page",afterPageText:"of {pages}",displayMsg:"Displaying {from} to {to} of {total} items",nav:{first:{iconCls:"pagination-first",handler:function(){1<b(this).pagination("options").pageNumber&&b(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var c=b(this).pagination("options");1<c.pageNumber&&b(this).pagination("select",c.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var c=b(this).pagination("options");c.pageNumber<Math.ceil(c.total/c.pageSize)&&b(this).pagination("select",c.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var c=b(this).pagination("options"),h=Math.ceil(c.total/c.pageSize);c.pageNumber<h&&b(this).pagination("select",h)}},refresh:{iconCls:"pagination-refresh",handler:function(){var c=b(this).pagination("options");0!=c.onBeforeRefresh.call(this,c.pageNumber,c.pageSize)&&(b(this).pagination("select",c.pageNumber),c.onRefresh.call(this,c.pageNumber,c.pageSize))}}}}})(jQuery);